<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>3D Mesh Visualization</title>
    <style>
        body {
            margin: 0;
            padding: 0;
            background-color: #2a2a2a;
            font-family: 'Courier New', monospace;
            overflow: hidden;
        }
        
        #container {
            width: 100vw;
            height: 100vh;
            position: relative;
            background-color: #2a2a2a;
            border: 2px solid #00ff00;
        }
        
        #vtk-container {
            width: 100%;
            height: 100%;
            position: absolute;
            top: 0;
            left: 0;
            z-index: 1;
        }
        
        #loading {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            color: white;
            font-size: 18px;
            z-index: 200;
        }
        
        
        #info {
            position: absolute;
            top: 10px;
            left: 10px;
            background: rgba(0, 0, 0, 0.8);
            color: white;
            padding: 10px;
            border-radius: 5px;
            font-size: 12px;
            z-index: 1000;
            pointer-events: auto;
        }
        
        #controls {
            position: absolute;
            top: 10px;
            right: 10px;
            background: rgba(0, 0, 0, 0.9);
            color: #00ff00;
            padding: 8px;
            border-radius: 3px;
            font-size: 11px;
            z-index: 1000;
            min-width: 140px;
            max-width: 160px;
            border: 1px solid #00ff00;
            pointer-events: auto;
        }
        
        .control-group {
            margin-bottom: 6px;
        }
        
        .control-group label {
            display: block;
            margin-bottom: 3px;
            color: #00ff00;
            font-size: 10px;
        }
        
        .control-group input, .control-group select {
            width: 100%;
            padding: 2px;
            background: #001100;
            color: #00ff00;
            border: 1px solid #00ff00;
            border-radius: 2px;
            font-size: 10px;
        }
        
        /* Colorbar removed from mesh preview - no field visualization */
    </style>
</head>
<body>
    <div id="container">
        <div id="vtk-container"></div>
        <div id="loading">Loading visualization... Generating mesh with GMSH...</div>
        <div id="info">
            <div><strong>Mesh Statistics:</strong></div>
            <div>Vertices: <span id="vertex-count">-</span></div>
            <div>Faces: <span id="face-count">-</span></div>
            <div>Type: <span id="mesh-type">-</span></div>
        </div>
        <div id="controls">
            <div class="control-group">
                <label>Representation:</label>
                <select id="representation-select" onchange="changeRepresentation(this.value);">
                    <option value="0">Points</option>
                    <option value="1">Wireframe</option>
                    <option value="2" id="surface-option">Surface</option>
                </select>
            </div>
            
            <div class="control-group">
                <label>Background:</label>
                <select id="background-select" onchange="changeBackground(this.value);">
                    <option value="#1a1a1a">Dark</option>
                    <option value="#ffffff">Light</option>
                    <option value="#000000">Black</option>
                </select>
            </div>
            <div class="control-group">
                <button id="fit-view" onclick="fitToView();" style="width: 100%; padding: 4px; background: #001100; color: #00ff00; border: 1px solid #00ff00; border-radius: 2px; cursor: pointer; margin-bottom: 3px; font-size: 10px; transition: all 0.2s ease;" onmouseover="this.style.background='#003300'; this.style.border='2px solid #00ff00';" onmouseout="this.style.background='#001100'; this.style.border='1px solid #00ff00';">Fit to View</button>
                <button id="surface-view-btn" onclick="showSurfaceView();" style="width: 100%; padding: 4px; background: #001100; color: #00ff00; border: 1px solid #00ff00; border-radius: 2px; cursor: pointer; margin-bottom: 3px; font-size: 10px; transition: all 0.2s ease;" onmouseover="this.style.background='#003300'; this.style.border='2px solid #00ff00';" onmouseout="this.style.background='#001100'; this.style.border='1px solid #00ff00';">Surface View</button>
                <button id="volume-view-btn" onclick="showVolumeView();" style="width: 100%; padding: 4px; background: #001100; color: #00ff00; border: 1px solid #00ff00; border-radius: 2px; cursor: pointer; font-size: 10px; transition: all 0.2s ease;" onmouseover="this.style.background='#003300'; this.style.border='2px solid #00ff00';" onmouseout="this.style.background='#001100'; this.style.border='1px solid #00ff00';">Volume View</button>
        </div>
            <div class="control-group">
                <div style="font-size: 9px; color: #00ff00; margin-top: 5px; line-height: 1.2;">
                    <strong>Controls:</strong><br>
                    • LMB: Rotate<br>
                    • MMB: Pan<br>
                    • RMB: Zoom<br>
                    • Wheel: Zoom
                </div>
            </div>
        </div>
        
    </div>

    <!-- VTK.js loaded locally to avoid CDN issues -->
    <script src="http://localhost:8080/static/js/vtk.js"></script>
    
    <script>
        // Get mesh dimension from template data
        const meshDimension = 3;
        window.meshDimension = meshDimension;
        
        // Get mesh data from template data
        const fullMeshData = {"vertices": [[0.3, -7.347880794884119e-17, 1.0], [0.3, -7.347880794884119e-17, 0.0], [0.24270509831248432, 0.1763355756877418, 1.0], [0.0927050983124845, 0.28531695488854597, 1.0], [-0.0927050983124835, 0.2853169548885463, 1.0], [-0.24270509831248382, 0.1763355756877425, 1.0], [-0.3, 1.1025535076145707e-15, 1.0], [-0.24270509831248518, -0.1763355756877406, 1.0], [-0.09270509831248605, -0.28531695488854547, 1.0], [0.0927050983124824, -0.28531695488854664, 1.0], [0.24270509831248355, -0.17633557568774283, 1.0], [0.2853169548885461, 0.09270509831248415, 1.0], [0.17633557568774214, 0.2427050983124841, 1.0], [5.512767538072854e-16, 0.3, 1.0], [-0.17633557568774136, 0.24270509831248463, 1.0], [-0.28531695488854575, 0.09270509831248515, 1.0], [-0.28531695488854647, -0.09270509831248291, 1.0], [-0.17633557568774327, -0.24270509831248327, 1.0], [-1.9202837873318936e-15, -0.3, 1.0], [0.1763355756877408, -0.24270509831248502, 1.0], [0.28531695488854586, -0.0927050983124848, 1.0], [0.3, -7.347880794884119e-17, 0.2], [0.3, -7.347880794884119e-17, 0.4], [0.3, -7.347880794884119e-17, 0.6], [0.3, -7.347880794884119e-17, 0.8], [0.3, -7.347880794884119e-17, 0.1], [0.3, -7.347880794884119e-17, 0.30000000000000004], [0.3, -7.347880794884119e-17, 0.49999999999999994], [0.3, -7.347880794884119e-17, 0.7], [0.3, -7.347880794884119e-17, 0.9], [0.24270509831248432, 0.1763355756877418, 0.0], [0.0927050983124845, 0.28531695488854597, 0.0], [-0.0927050983124835, 0.2853169548885463, 0.0], [-0.24270509831248382, 0.1763355756877425, 0.0], [-0.3, 1.1025535076145707e-15, 0.0], [-0.24270509831248518, -0.1763355756877406, 0.0], [-0.09270509831248605, -0.28531695488854547, 0.0], [0.0927050983124824, -0.28531695488854664, 0.0], [0.24270509831248355, -0.17633557568774283, 0.0], [0.2853169548885461, 0.09270509831248415, 0.0], [0.17633557568774214, 0.2427050983124841, 0.0], [5.512767538072854e-16, 0.3, 0.0], [-0.17633557568774136, 0.24270509831248463, 0.0], [-0.28531695488854575, 0.09270509831248515, 0.0], [-0.28531695488854647, -0.09270509831248291, 0.0], [-0.17633557568774327, -0.24270509831248327, 0.0], [-1.9202837873318936e-15, -0.3, 0.0], [0.1763355756877408, -0.24270509831248502, 0.0], [0.28531695488854586, -0.0927050983124848, 0.0], [-0.28531695488854647, -0.09270509831248291, 0.840102801945634], [-0.16125615298337379, 0.25297520258911294, 0.1514931456102732], [-0.0028433804053584993, 0.2999865250104918, 0.8283264390230903], [-0.17754162956733296, -0.24182425389231726, 0.17240745458379814], [-0.004410282258870445, -0.2999675805989659, 0.8559150290215692], [0.24888857409015175, -0.1674947094309878, 0.5067558856942455], [0.2500000000000009, 0.16583123951776868, 0.5], [0.16733526772612356, 0.24899579951281617, 0.17481951144220736], [0.17590020610804213, -0.2430208169913604, 0.14950651551472782], [0.24654864358759435, -0.17092035088051208, 0.6930967243339331], [0.10930326595317529, -0.27937930498154195, 0.5714811655926841], [0.11243332771952928, -0.27813440423276103, 0.41844313029815167], [-0.05243532292145508, -0.29538201859646557, 0.49222543793856777], [-0.04275228474915761, -0.2969381116474053, 0.31796991618972253], [-0.1967752333578319, -0.2264497903222054, 0.37892369257600056], [-0.2860177216929954, -0.09051995844866606, 0.27445879873702966], [-0.2907721812640668, -0.0738345352997951, 0.45611256547500456], [-0.22151005255939674, -0.20231978799695613, 0.5600934785355407], [-0.29265487336846, 0.06597821681199507, 0.33964122428509746], [-0.28302213942820204, 0.09949104780573659, 0.5218331897316892], [-0.20839815700444003, 0.21580131639346586, 0.4137382318529732], [-0.17870310158681385, 0.2409672207650926, 0.5688776698057726], [-0.038064890377377765, 0.29757530831800916, 0.4427719905076745], [-0.261098584425148, 0.14774142686187874, 0.6881508028614536], [-0.01633542884786721, 0.2995549261226666, 0.6479249385570909], [0.2486495548870138, 0.16784933379221353, 0.6924340998378036], [-0.2863413830559389, 0.08949085064749383, 0.1632395459887071], [-0.09367356073926117, -0.28500046318984806, 0.6803389444785137], [-0.17408127860493758, -0.24432705220517456, 0.8560882036682197], [0.24463810204972078, -0.17364388565541372, 0.3088782286197954], [0.253579239849863, 0.16030461352427025, 0.31095449231346306], [0.1759559235138709, 0.2429804785993739, 0.8560852534700212], [-0.18335487006381815, 0.23744681851707417, 0.8486471219412123], [0.17333457038617983, -0.244857359924178, 0.8643514342819844], [0.14398436397289038, 0.2631891010876442, 0.38411323516871343], [-0.00559010221794119, 0.2999479134069663, 0.2594989825825304], [-0.2974328515671818, -0.039162466835157415, 0.6648810940074149], [0.0006767466332576925, -0.2999992366890195, 0.15065665948869564], [-0.2853169548885458, 0.09270509831248501, 0.8653412819311258], [0.13667602695025982, 0.26705741640533376, 0.5707181570362347], [-0.28531695488854647, -0.09270509831248291, 0.12009862204284551], [-0.24015144940774644, -0.1797978902750491, 0.722950840541757], [0.2668899859936642, -0.13700268382882763, 0.8622196529185548], [0.2670453510293725, -0.1366995994639312, 0.1393221686705289], [0.270487961713262, 0.1297546244578779, 0.13836365898245945], [-0.23536528721392605, 0.1860193043065856, 0.27838839876851934], [0.2677975296075523, 0.13522012844281778, 0.8588381918102701], [-0.13975585891232872, 0.2654586594927302, 0.29383359582643515], [0.09099029324339332, -0.28586844270657313, 0.2668238497099553], [0.10364033468429269, 0.2815291832590856, 0.7240557437364707], [3.390868181250484e-05, 0.29999999808366884, 0.11409587770757358], [-0.13693652397281175, 0.26692393748452675, 0.7126485713490748], [0.09163833490225652, -0.2856613652147274, 0.736131780497589], [0.29183836183944845, 0.06950086732456759, 0.929419095905135], [0.2560778266052205, 0.1562822661761296, 0.929419095905135], [0.2555553884830913, -0.15713511198092003, 0.9311098264592774], [0.29160503750629824, -0.07047341414285524, 0.9311098264592774], [0.29160503750629824, -0.07047341414285524, 0.8311098264592774], [0.29183836183944845, 0.06950086732456759, 0.8294190959051351], [0.2916449942214093, -0.07030787541658566, 0.16966108433526444], [0.2916449942214093, -0.07030787541658566, 0.06966108433526445], [0.29252896310791054, 0.06653424488946047, 0.06918182949122972], [0.29252896310791054, 0.06653424488946047, 0.16918182949122973], [0.25765136419009516, 0.15367424810612526, 0.06918182949122972], [0.2556445438570119, -0.1569900226006109, 0.06966108433526445], [0.2119661495857232, 0.21229778950757547, 0.9280426267350106], [0.13598816297141914, 0.26740833856044716, 0.9280426267350106], [0.22832510824647098, 0.19459610721758364, 0.8574617226401456], [0.04552560991569079, 0.2965255787310841, 0.9141632195115452], [-0.048334015126142195, 0.29608077104362224, 0.9141632195115452], [0.09112853821515392, 0.2858244033016937, 0.8422058462465558], [-0.14008984268688787, 0.265282558748145, 0.9243235609706062], [-0.21521017671857495, 0.2090085640273138, 0.9243235609706062], [-0.09821023796690578, 0.2834691326379007, 0.8384867804821513], [-0.26730195725650996, 0.13619714992186477, 0.932670640965563], [-0.29630650217854115, 0.046930339512070214, 0.932670640965563], [-0.24525672522479522, 0.17276903290812648, 0.856994201936169], [-0.2963065021785415, -0.046930339512068035, 0.920051400972817], [-0.267301957256511, -0.1361971499218627, 0.920051400972817], [-0.3, 1.1025535076145707e-15, 0.8527220419383799], [-0.21114788944183938, -0.21311163455864338, 0.9280441018341099], [-0.13495845937798587, -0.2679294949092401, 0.9280441018341099], [-0.24188631308900635, -0.17745706956953614, 0.8480955028069268], [-0.04910712264332496, -0.2959535276115043, 0.9279575145107846], [0.04475102059073058, -0.29664346639710104, 0.9279575145107846], [-0.09348142288650027, -0.28506354304806375, 0.8560016163448945], [0.13454932566346695, -0.26813518785028256, 0.9321757171409921], [0.2108223427710154, -0.21343368944133562, 0.9321757171409921], [0.08884333337699298, -0.28654294985998957, 0.8601332316517768], [0.22662209247746756, -0.19657677177411917, 0.8632855436002695], [0.28582462334000913, -0.09112784806271852, 0.3544391143098977], [0.28582462334000913, -0.09112784806271852, 0.25443911430989774], [0.2881612152554182, 0.08344527561534291, 0.2554772461567315], [0.2881612152554182, 0.08344527561534291, 0.35547724615673154], [0.25650771744586104, -0.15557567576814288, 0.22410019864516217], [0.26247844367974377, 0.14527582938486208, 0.22465907564796125], [0.28693777393979125, -0.0875597732207961, 0.5533779428471227], [0.28693777393979125, -0.0875597732207961, 0.45337794284712274], [0.28722813232690164, 0.08660254037844305, 0.45], [0.28722813232690164, 0.08660254037844305, 0.55], [0.24678249149296913, -0.17058253689203537, 0.40781705715702044], [0.25180478271998663, 0.16307774648719028, 0.40547724615673153], [0.2863255080116669, -0.08954162976996162, 0.7465483621669666], [0.2863255080116669, -0.08954162976996162, 0.6465483621669665], [0.2868752921271751, 0.0877642681673352, 0.6462170499189017], [0.2868752921271751, 0.0877642681673352, 0.7462170499189018], [0.24772453031523087, -0.16921157489988164, 0.5999263050140893], [0.24932681930225556, 0.16684165300254128, 0.5962170499189018], [0.2572788538164912, -0.15429708804404751, 0.7776581886262439], [0.2587384084962409, 0.15183687288940179, 0.7756361458240368], [0.1312823467733964, 0.26974978299466656, 0.08740975572110368], [0.2082141985476648, 0.21597881267187674, 0.08740975572110368], [0.22688523424036175, 0.19627299988458977, 0.1565915852123334], [-0.046913593832261506, 0.2963091539486109, 0.05704793885378679], [0.04694708504198669, 0.29630384946210275, 0.05704793885378679], [0.08748409781686868, 0.28696085556948103, 0.14445769457489047], [-0.2055835140278132, 0.2184843673125744, 0.0757465728051366], [-0.12800615815416413, 0.2713197808391624, 0.0757465728051366], [-0.08397014863768125, 0.28800870496873127, 0.1327945116589234], [-0.29656568826887375, 0.04526358957936517, 0.08161977299435355], [-0.268063511931233, 0.13469206944394937, 0.08161977299435355], [-0.23825967325495678, 0.18229736174843902, 0.15736634579949016], [-0.267301957256511, -0.1361971499218627, 0.060049311021422754], [-0.2963065021785415, -0.046930339512068035, 0.060049311021422754], [-0.29999525794538734, -0.0016867751126064502, 0.1416690840157763], [-0.1368620737911863, -0.26696211858159924, 0.08620372729189907], [-0.21265939860882982, -0.211603355794115, 0.08620372729189907], [-0.24314326628828492, -0.17573090809150269, 0.14625303831332181], [0.04726451725221242, -0.2962533804177014, 0.07532832974434782], [-0.04659610206783467, -0.2963592469825835, 0.07532832974434782], [-0.09309338784076014, -0.2851904997371578, 0.1615320570362469], [0.2119418094057439, -0.21232208887871115, 0.07475325775736391], [0.13595750516600796, -0.2674239271064482, 0.07475325775736391], [0.09277117083265378, -0.2852954781666519, 0.15008158750171174], [0.22776356594300237, -0.19525306150974334, 0.14441434209262838], [-0.2663185115259204, -0.13811028353681054, 0.7815268212436954], [-0.20961438744527688, -0.21462014951057448, 0.7895195221049883], [-0.2987416909564832, 0.027448170876418654, 0.7651111879692704], [-0.2926021831385172, -0.06621149766146077, 0.7524919479765244], [-0.27783772376192, -0.11316447876783164, 0.6939159672745859], [-0.26528079094135565, 0.14009319026108566, 0.22081397237861322], [-0.20111666958447313, 0.22260297665406423, 0.21494077218939628], [-0.15063537765226584, 0.25943974830306793, 0.22266337071835418], [-0.07469095837590146, 0.29055336985980623, 0.2766662892044828], [-0.08666618203815142, 0.28720893595243513, 0.2054960640964018], [-0.002778218827975248, 0.29998713555775, 0.18679743014505198], [-0.19172016418693769, 0.23074526786942706, 0.28611099729747724], [0.05123646030035094, 0.2955923292913579, 0.7761910913797805], [0.044573181367530475, 0.2966702403389616, 0.6859903411467808], [-0.009591832488784247, 0.2998466220411814, 0.7381256887900907], [-0.07835348259804226, 0.2895871747242241, 0.6802867549530829], [-0.07181844533593461, 0.2912766913254979, 0.7704875051860826], [0.14112057807895684, 0.26473568411277887, 0.790070498603246], [-0.16082247793494933, 0.2532511215984299, 0.7806478466451435], [-0.12484193543611344, -0.2727901962251673, 0.3484468043828616], [-0.1873162352815455, -0.23433443622299452, 0.27566557357989935], [-0.11354178305972815, -0.27768374727307615, 0.24518868538676034], [-0.021093372147803723, -0.29925753065116717, 0.23431328783920907], [-0.25078175603494307, -0.164646624137971, 0.3266912456565151], [-0.24381358758311453, -0.1747996982544619, 0.2234331266604139], [-0.28566942761728964, -0.09161319842037013, 0.19727871038993758], [-0.1354132382315018, -0.26769993446330637, 0.7682135740733667], [-0.049609613132991795, -0.295869711671869, 0.7681269867500415], [-0.0010699223913562543, -0.29999809210406064, 0.7082353624880513], [0.04419672206899938, -0.29672655721784597, 0.7960234047595791], [0.13404813257254436, -0.2683860990323708, 0.8002416073897867], [0.18600667074630767, -0.23537527150887086, 0.6322889449633087], [0.187629659832298, -0.23408355506360573, 0.5391185256434647], [0.11087004414115688, -0.27876124786658907, 0.49496214794541793], [0.18894090266085464, -0.23302646910104752, 0.46259950799619853], [0.18602303246508176, -0.23536234064203035, 0.3636606794589735], [0.1998531265112654, 0.22373807861799508, 0.5353590785181174], [0.19894600251953115, 0.22454506915427622, 0.6315761284370192], [0.20533024428083732, 0.21872240576486823, 0.34753386374108824], [0.20291761398692248, 0.22096253513628578, 0.4420566175843567], [0.14034352398359226, 0.2651484400781322, 0.4774156961024741], [0.15582150276101478, 0.25635845856397843, 0.2794663733054604], [0.21507856074001783, 0.20914399993784774, 0.2428870018778352], [0.08479035392595047, 0.2877683024259483, 0.21715924701236888], [0.07159640698007227, 0.2913313483090068, 0.3218061088756219], [0.21311125453022542, -0.2111482730039568, 0.22919237206726162], [0.1769468641516146, -0.24225979292261862, 0.28785103916487537], [0.13515403959324468, -0.2678308898944027, 0.20816518261234157], [0.04637490037272821, -0.2963939415970231, 0.2087402545993255], [0.17856086692675646, -0.24107263802091927, 0.714614252415761], [0.1005198876281667, -0.2826583665685853, 0.6538064730451365], [0.21317164133818867, -0.21108730736162856, 0.7787240793079587], [0.029538321667370658, -0.29854227096522684, 0.531853301765626], [0.031213942321456162, -0.2983717309075255, 0.45533428411835974], [0.008304894711503764, -0.29988502584128945, 0.6259100550355989], [-0.07323862126167016, -0.2909228494905301, 0.5862821912085407], [-0.04760016302397941, -0.2961996361916918, 0.4050976770641451], [0.03608679523722733, -0.2978216634321728, 0.3682065232439371], [0.024745924078267686, -0.29897765675968596, 0.2923968829498389], [0.1017852947590923, -0.2822051625516527, 0.3426334900040535], [-0.12928413809888514, -0.27071315379203204, 0.43557456525728416], [-0.14466050559110905, -0.2628180703873398, 0.5261594582370542], [-0.20949035623810605, -0.21474121784890624, 0.46950858555577063], [-0.162923911798077, -0.25190434487005664, 0.6202162115070272], [-0.2554378092462297, -0.15732617584968736, 0.41751812902550256], [-0.28851559554852235, -0.0822116240277582, 0.3652856821060171], [-0.2640745857006175, -0.14235383095318235, 0.5081030220052727], [-0.2999728044882812, -0.00403937710983059, 0.397876894880051], [-0.2997305669826969, -0.012711696040696408, 0.3070500115110636], [-0.28973673779111553, 0.07779860393453318, 0.25144038513690226], [-0.29999951507479794, -0.0005394023415540672, 0.21884917236286838], [-0.27199358870753815, -0.12656811487098388, 0.6124872862714779], [-0.29461301438481413, -0.056596570170756, 0.5604968297412097], [-0.2997005506407916, 0.013400744218374524, 0.4889728776033469], [-0.28832582823244574, 0.08287470527292502, 0.43073720700839335], [-0.2983926916387714, 0.031012925959494158, 0.593357141869552], [-0.17500479903958607, -0.24366641195108135, 0.7016448925101353], [-0.2311052672893646, -0.19128605655172923, 0.6415221595386489], [-0.2524985080772238, 0.16200155375420364, 0.4677857107923312], [-0.26148666333776255, 0.14705347631553506, 0.37668972806903533], [-0.22238084599875615, 0.2013622589585186, 0.3460633153107463], [-0.2707467232804179, 0.12921382214344104, 0.30901481152680843], [-0.2414568831621911, 0.17804093229816562, 0.5453554297687309], [-0.19395921423444587, 0.22886638725150607, 0.4913079508293729], [-0.2731279284537536, 0.12410130820648609, 0.6049919962965714], [-0.22478688332943755, 0.19867273865087234, 0.6285142363336131], [-0.2944870245319677, 0.0572485142366879, 0.6765159484344343], [-0.11201879074131546, 0.278301617891189, 0.5058248301567235], [-0.12983741706458066, 0.2704482300367265, 0.4282551111803239], [-0.09034890426800835, 0.28607180129745446, 0.36830279316705483], [-0.17583875463237025, 0.24306528417142806, 0.35378591383970415], [-0.10182404869821508, 0.28219118183724934, 0.6084013041814318], [-0.027218163138155903, 0.2987627346162582, 0.5453484645323827], [-0.20774769454538675, 0.216427575440554, 0.7003996871052642], [-0.15835255315771954, 0.25480280396501054, 0.6407631205774237], [0.06232565220170132, 0.2934544480454037, 0.6093215477966628], [0.051612735790183974, 0.29552686088451025, 0.5067450737719547], [-0.021859709704188084, 0.2992025285515626, 0.35113548654510246], [0.05568066570731733, 0.29478748865308035, 0.41344261283819395], [-0.274590121391717, 0.12083155727740208, 0.7767460423962897], [-0.22670792360391123, 0.19647777832417374, 0.768398962401333], [0.12037585483096096, 0.27479019919515946, 0.6473869503863527], [0.21560061526354618, 0.20860578778638988, 0.7742596766539124], [0.18508867771218068, 0.23609782163915977, 0.7082449217871372], [-0.009117756028849898, 0.1036821424336383, 1.0], [-0.01008443579992675, -0.12220524057886267, 1.0], [0.13404910758219354, -0.05590631079319246, 1.0], [-0.1503913804341866, -0.002646156877888567, 1.0], [0.13397044630239305, 0.09117875625711509, 1.0], [0.1883377723074387, 0.13375716597242845, 1.0], [0.2169852231511965, 0.045589378128557546, 1.0], [0.21702455379109675, -0.02795315539659623, 1.0], [0.18837710294733856, -0.11612094324046765, 1.0], [0.1340097769422933, 0.017636222731961318, 1.0], [0.11333777230743877, 0.18824785557283052, 1.0], [-0.0509114271706667, 0.19449954866109231, 1.0], [0.0417936711418173, 0.19449954866109215, 1.0], [0.062426345136771574, 0.0974304493453767, 1.0], [-0.12591142717066686, 0.14000885906069038, 1.0], [-0.2251956902170933, -0.0013230784389437322, 1.0], [-0.1965482393733352, 0.08684470940492697, 1.0], [-0.07975456823151825, 0.050517992777874866, 1.0], [-0.19654823937333588, -0.0894908662828146, 1.0], [-0.0513947670562064, -0.20376109773370407, 1.0], [-0.12639476705620598, -0.14927040813330164, 1.0], [-0.08023790811705668, -0.06242569872837562, 1.0], [0.041310331256277824, -0.20376109773370465, 1.0], [0.11337710294733797, -0.17061163284086955, 1.0], [0.0619823358911334, -0.08905577568602757, 1.0], [0.06246567577667182, 0.023887915820222913, 1.0], [-0.009601095914388324, -0.009261549072612188, 1.0], [-0.009117756028849898, 0.1036821424336383, 0.0], [-0.01008443579992675, -0.12220524057886267, 0.0], [0.13404910758219354, -0.05590631079319246, 0.0], [-0.1503913804341866, -0.002646156877888567, 0.0], [0.13397044630239305, 0.09117875625711509, 0.0], [0.2169852231511965, 0.045589378128557546, 0.0], [0.1883377723074387, 0.13375716597242845, 0.0], [0.18837710294733856, -0.11612094324046765, 0.0], [0.21702455379109675, -0.02795315539659623, 0.0], [0.1340097769422933, 0.017636222731961318, 0.0], [0.11333777230743877, 0.18824785557283052, 0.0], [0.0417936711418173, 0.19449954866109215, 0.0], [-0.0509114271706667, 0.19449954866109231, 0.0], [0.062426345136771574, 0.0974304493453767, 0.0], [-0.12591142717066686, 0.14000885906069038, 0.0], [-0.1965482393733352, 0.08684470940492696, 0.0], [-0.2251956902170933, -0.0013230784389437324, 0.0], [-0.07975456823151825, 0.050517992777874866, 0.0], [-0.19654823937333588, -0.08949086628281458, 0.0], [-0.12639476705620595, -0.14927040813330164, 0.0], [-0.0513947670562064, -0.20376109773370407, 0.0], [-0.08023790811705667, -0.06242569872837562, 0.0], [0.041310331256277824, -0.20376109773370465, 0.0], [0.11337710294733797, -0.17061163284086955, 0.0], [0.06198233589113339, -0.08905577568602757, 0.0], [-0.009601095914388324, -0.009261549072612188, 0.0], [0.06246567577667182, 0.023887915820222927, 0.0], [0.00031842559679595706, 0.018349890818923714, 0.2546682178235698], [0.009245791370563, 0.03562884670014402, 0.770079573437031], [0.1126267645129472, 0.000700602985119156, 0.4820749965747552], [-0.10236167838099776, 0.012282129597377895, 0.5436134770816119], [-0.13453278581544378, -0.0870865481065741, 0.11374027628308683], [0.11568600421452488, 0.14455659782417152, 0.09181184253061415], [-0.13361689871239013, -0.06886409335110767, 0.9063457149199777], [0.01009230692208825, 0.18893227997899972, 0.9063710668697661], [0.09604931761613492, -0.15632050402177125, 0.13102082808266324], [0.0443968564975528, -0.16803673437326597, 0.87237441967514], [0.1818048903730707, -0.05190054461628972, 0.8773894183993514], [0.1765914682485086, -0.0027356660644227144, 0.1097961956304927], [0.16337188547274906, 0.12956075054631128, 0.9138966424402166], [-0.006838997165592853, 0.19154694452174084, 0.11820067187422226], [-0.14371024430324908, 0.10019334406735757, 0.09671581553981527], [-0.13966725187816245, 0.10754179746551328, 0.9136430774267372], [0.0483630321246963, -0.22815987035539537, 0.14083874378567945], [0.09351980542976412, -0.2210944733641722, 0.19892233889630928], [0.1359747618620885, -0.19967066050656584, 0.14026367179869553], [-0.19118617509532315, 0.1419386865766279, 0.9568215387133686], [-0.21249210338335411, 0.10012344788899914, 0.8894921796789315], [-0.21983362593908123, 0.053770898732757186, 0.9568215387133686], [-0.20946692680046797, 0.011920502480688669, 0.8858434984255518], [-0.21680844935619506, -0.03443204667555329, 0.9531728574599889], [-0.13664207529527628, 0.0193388520572028, 0.9099943961733574], [-0.006214549691767022, 0.2457474289643536, 0.18884982722837634], [-0.08404757507448332, 0.2222610735554269, 0.13484690874224772], [-0.003260285784398448, 0.10494841767033228, 0.18643444484889604], [-0.08046886369328891, 0.13566254670401834, 0.2030806817169215], [-0.0026358383105726164, 0.15914890211294502, 0.2570836002030501], [0.08024813528026535, 0.2202713720172785, 0.14651009165821482], [0.08382684666145976, 0.13367284516586994, 0.21474386463288858], [-0.14301147872957148, 0.053920370733208774, 0.20895388190613845], [-0.11752343080856505, 0.10218459756275465, 0.26652830829604457], [0.08373685610982935, 0.05047323818460779, 0.05489809781524635], [0.14613873623151674, 0.0709104658798744, 0.10080401908055342], [0.05328412409283749, 0.12411937012890491, 0.04590592126530708], [-0.00439966521602697, 0.061016016626281006, 0.1273341089117849], [0.05800221490566042, 0.08145324432154762, 0.17324003017709197], [0.08845494692265228, 0.0078071123772505, 0.18223220672703125], [0.05637587665816262, -0.12989225670691867, 0.33655567406086073], [-0.02605844866232956, -0.1385160638887709, 0.37344682788106875], [0.11253004611623824, -0.13871690062382094, 0.45025906343645344], [0.030095720795746062, -0.1473407078056732, 0.4871502172566615], [0.05647259505487158, 0.009525246902021434, 0.3683716071991625], [-0.07739850065122642, -0.14154994449954383, 0.5179194575100898], [-0.0510216263921009, 0.015316010208150804, 0.3991408474525908], [0.005132543065974722, 0.0064913662912485254, 0.5128442368281836], [-0.07182527092214684, 0.0082977971635321, 0.056870138141543417], [-0.06710718010932391, -0.03436832864382519, 0.18420424705332833], [-0.07641400016604949, 0.10193774325049793, 0.048357907769907636], [-0.07169590935322656, 0.05927161744314064, 0.17569201668169254], [-0.13912151505934645, 0.0065533979803917355, 0.10522804591145105], [0.01715717428463103, 0.13966977300135583, 0.5571658170589233], [0.12465139573160351, 0.13387900969522645, 0.526396576805495], [0.07296090916041141, 0.15134313155273887, 0.6703988652366328], [0.0609362779417551, 0.018164724842631586, 0.6260772850058931], [-0.04655794350521738, 0.023955488148760955, 0.6568465252593214], [-0.062185553670913565, -0.016617623325481827, 0.8382126441785044], [-0.06521073025379973, 0.07158532208282864, 0.8418613254318841], [-0.1380355817589914, 0.0641669725063145, 0.8177104276840784], [-0.13803558175899172, -0.028538125806169448, 0.8050911876913325], [-0.11545282901859172, -0.07208452178745255, 0.746515206989394], [-0.08241774361718729, -0.10434910275251527, 0.8130838885526254], [-0.06971871665776638, 0.14190427515582693, 0.27425090682500247], [0.18154733432275372, -0.14651005174285123, 0.1351714983765961], [0.13632039293232176, -0.07952808504309698, 0.12040851185657797], [0.22181840963894056, -0.06971763276417696, 0.1245591821505108], [0.20964828328049606, -0.08953562087608277, 0.05489809781524635], [0.16937720796430922, -0.16632803985475703, 0.06551041404133162], [0.11504921259916423, -0.10611340740748185, 0.06551041404133162], [0.15532028791535107, -0.029320988428807586, 0.05489809781524635], [0.06718376658949475, -0.01877820998713437, 0.1273341089117849], [0.04818387160646544, -0.06898530660142377, 0.19284452295311652], [-0.0035448187386521047, 0.16759188641140532, 0.709002255997061], [-0.05934855361443248, 0.15591852786002225, 0.5957692078193514], [0.09260085744221695, 0.13930466264975896, 0.8130824134535262], [0.056443063027427846, 0.1585790149796148, 0.7470676585867508], [0.00320120548260225, 0.1678076858553179, 0.7992030062300607], [0.10886571344186632, -0.20644704714872197, 0.8683629269785622], [0.06801759569990466, -0.22684904979399667, 0.8042531000863644], [0.019993287119341178, -0.2340021574861159, 0.8641447243483547], [0.17258838792290987, 0.03883010296501078, 0.895643030419784], [0.08630883842165603, 0.08259479862322765, 0.8419881079386238], [0.09552534087181686, -0.008135848958072851, 0.8237344959181911], [0.15788766833773188, 0.019639105820412686, 0.9386947091996757], [0.07160811883647802, 0.06340380147862956, 0.8850397867185156], [0.14867116588757107, 0.11036975340171318, 0.9569483212201083], [-0.1405323899839058, 0.12662467518123524, 0.5562455734436922], [-0.07021328437918777, 0.15492871895769353, 0.49319273379464323], [-0.06384536630112438, 0.1512763920923354, 0.7413640723930529], [-0.08705453934662757, 0.13653783260860908, 0.8093633476891217], [-0.10403986570382204, 0.11707560360619479, 0.3342032248382715], [-0.018873232390290904, 0.15796259956846642, 0.34872010416562216], [-0.1553799176927189, 0.11404172299542188, 0.47867585446729255], [0.03728093706778472, 0.14913795565156415, 0.46242349354121487], [0.04565435942009464, -0.1337592759438247, 0.26074603376676253], [0.0004975861150268248, -0.1408246729350479, 0.2026624386561327], [-0.09822840388051797, -0.10404994975164085, 0.3167959551997852], [-0.14956845586941483, -0.10708383036241376, 0.4612685848288062], [-0.21027525375421957, -0.08880325327762008, 0.19409953751005826], [-0.14284964804809971, -0.03608503381487117, 0.26456350828029973], [-0.21043708443569137, 0.0012021512704598683, 0.13848991113589698], [-0.007978376597221375, 0.14761454347768957, 0.05910033593711113], [-0.07527462073442097, 0.1458701442945492, 0.10745824370701876], [-0.20992487035199514, -0.0898958232095285, 0.11691944916296618], [-0.14616822388583203, 0.042164053815459394, 0.2971547210543336], [0.05442350352446601, 0.16805177117295617, 0.10500625720241821], [0.1415106359703242, 0.19677619866849383, 0.13331567698641075], [-0.021216929576180828, -0.13929411041424078, 0.28631906700664617], [-0.14705081236871784, 0.0487735935947345, 0.048357907769907636], [-0.14246208312481518, -0.04486635249223133, 0.056870138141543417], [0.09437720796430865, -0.22081872945515896, 0.06551041404133162], [0.13540319365502898, 0.0740522576384008, 0.19651593840301462], [0.1269488327233295, 0.08932725217159698, 0.2828113550685164], [-0.11964910117690475, 0.13960303354095233, 0.6281310242153433], [-0.1615110609709903, 0.17249430799129373, 0.8811450996839747], [-0.12592639652729248, 0.09168513678101138, 0.7291151881492424], [-0.18173013140307287, 0.08001177822962832, 0.6158821399715327], [-0.019241734099654434, -0.12170352606417267, 0.12238055218287504], [0.04298244090810408, -0.13926287230031698, 0.06551041404133162], [-0.07230861080768526, -0.10464589434271838, 0.056870138141543417], [-0.004883005101565397, -0.05192767487996948, 0.1273341089117849], [-0.07136732737062002, 0.017409024541265312, 0.9531728574599889], [6.401767085655128e-05, 0.06965549456689116, 0.8850397867185156], [-0.07439250395350618, 0.10561196994957578, 0.9568215387133686], [-0.19750827587472888, 0.03913017320468649, 0.4416273506833547], [0.11096501523306124, -0.1393393509982114, 0.5267780810837197], [0.05927452866186914, -0.12187522914069897, 0.6707803695148575], [0.0034707937860887633, -0.13354858769208203, 0.557547321337148], [0.15015921279839797, 0.00917494540946182, 0.2273341089117849], [0.17034370983292785, -0.1649821948385925, 0.21994952835122933], [-0.0886116019852685, -0.11173718153669678, 0.21353783620368397], [0.13852166048905767, 0.0854244875714809, 0.8144588826236505], [0.1289476731287884, 0.10173909024617878, 0.7312568366374173], [0.07203137661224066, 0.14005551811805741, 0.9531855334348831], [0.08673209619741866, 0.15924651526265549, 0.9101338546549913], [0.009669049146325624, 0.11228056333957187, 0.8382253201533986], [-0.11820767130786629, 0.19275514947795194, 0.048357907769907636], [-0.19320767130786645, 0.13826445987755004, 0.048357907769907636], [-0.15248319864331145, 0.17658427332823526, 0.12410448057504422], [-0.14200413957328836, -0.03575512511449812, 0.9531728574599889], [-0.14502931615617454, 0.052447820293812356, 0.9568215387133686], [0.08922298203987317, -0.1119715225832292, 0.93618720983757], [0.15792699897763213, -0.05390342770474109, 0.9386947091996757], [0.11310087343531175, -0.10996863949477784, 0.8748819190372457], [0.0268213239340579, -0.06620394383656097, 0.8212269965560854], [0.07164744947637827, -0.01013873204652422, 0.8850397867185156], [-0.044610021107418664, -0.11845041386218683, 0.8893600672975588], [-0.07185066725615843, -0.09553466696498517, 0.9531728574599889], [0.017156210348813025, -0.14512098747606433, 0.93618720983757], [-0.0004193222146818753, -0.04328819693935933, 0.8850397867185156], [0.14547275004257357, -0.16947854262688902, 0.7827355720045366], [0.12789721747907867, -0.06764575209018403, 0.7315881488854821], [0.21417676698033253, -0.11141044774840089, 0.7852430713666423], [0.07215139478484317, 0.14076949595328397, 0.31939072649614164], [0.12830556424291878, 0.13194485203638168, 0.4330941158717343], [0.0004872754466191762, 0.146307211206319, 0.9531855334348831], [-0.0647874724780371, 0.1482370387222565, 0.9100070721482516], [0.12247826382325837, -0.077646997418245, 0.28177322322168263], [0.178632433281334, -0.08647164133514729, 0.3954766125972753], [0.2106147851491147, -0.08818977585991822, 0.20933721212514406], [0.2382957341242543, -0.0013678330322113939, 0.15489809781524636], [0.17756973037962526, -0.14837895227023387, 0.8708704263406679], [-0.042213884684349084, -0.12468580824485202, 0.7252092589577723], [-0.09801761956012947, -0.13635916679623508, 0.6119762107800628], [0.24090244518653536, -0.0259502723081449, 0.9386947091996757], [-0.19418970003699657, -0.03911891442564408, 0.4090361379093208], [0.15462289568528148, 0.01781442335007197, 0.7850397867185155], [0.18063815969998048, 0.08427496838866634, 0.5872545482062794], [0.24090244518653536, -0.0259502723081449, 0.8386947091996757], [0.15462289568528148, 0.01781442335007197, 0.6850397867185155], [0.15015921279839797, 0.00917494540946182, 0.32733410891178494], [-0.19656692982253227, -0.030776202851208603, 0.49986302127830823], [0.18310300218140513, 0.0805026082546947, 0.39651474444410917], [0.17958770405027077, -0.08510987394769647, 0.5875858604543441], [0.2063133822564736, 0.00035030149255954124, 0.5410374982873776], [0.2063133822564736, 0.00035030149255954124, 0.4410374982873776], [-0.04977204773903818, 0.2384319497051436, 0.05910033593711113], [-0.024638352120854183, -0.226518598781557, 0.7763566820768268], [-0.14409353009830939, -0.0017668100675066988, 0.717480333722223], [-0.1712565638943721, -0.0837578803388356, 0.6332821588116844], [0.05044206313640976, -0.1250162592572917, 0.75310567696731], [0.15528095727545083, 0.04422154509634619, 0.05489809781524635], [0.18075766930154946, -0.08339705322293432, 0.4944154411345003], [-0.1926919089045999, 0.055886588701557244, 0.5327233334066506], [-0.16193586547019725, -0.09501882919978911, 0.5518534778085763], [-0.19989726497408977, -0.013440168618889761, 0.6042472855445133], [0.18131338225647403, 0.08326592125144391, 0.49103749828737764], [-0.18861894206396448, -0.13171106189715737, 0.056870138141543417], [0.10419555126350469, 0.21493677635635874, 0.04590592126530708], [0.04293305057344582, 0.23843194970514342, 0.05910033593711113], [-0.18816099851243767, -0.12259983451942413, 0.9531728574599889], [0.12482822525845896, 0.1178676770406433, 0.04590592126530708], [0.05139870261728637, 0.23712461743377283, 0.9531855334348831], [0.2030384918926167, 0.15294816311702653, 0.9569483212201083], [0.1280384918926168, 0.20743885271742862, 0.9569483212201083], [0.16966390449330998, 0.1862706145728426, 0.8849909479551189], [0.2248012099903115, 0.04165979191326403, 0.8681138051048107], [-0.11618617509532297, 0.1964293761770298, 0.9568215387133686], [-0.041306395695197624, 0.237124617433773, 0.9531855334348831], [0.2382957341242543, -0.0013678330322113939, 0.05489809781524635], [0.09302411521797958, 0.21595637928918682, 0.8812281601698937], [-0.11361894206396492, -0.1862017514975598, 0.056870138141543417], [0.0016721096518244327, -0.22081872945515835, 0.06551041404133162], [-0.11316099851243809, -0.17709052411982656, 0.9531728574599889], [-0.024154120907466624, -0.2266768446309057, 0.93618720983757], [0.23168594273637452, 0.0647803752731556, 0.9569483212201083], [0.22353971498088532, 0.06350947919672759, 0.12407992730647607], [0.0685509774050176, -0.22667684463090632, 0.93618720983757], [-0.21726639290772187, -0.0435432740532865, 0.056870138141543417], [-0.22185512215162453, 0.05009667203367933, 0.048357907769907636], [0.20964828328049645, 0.08679995481165954, 0.05489809781524635], [0.17919555126350462, 0.16044608675595667, 0.04590592126530708], [0.14355097740501818, -0.17218615503050438, 0.93618720983757], [0.21225499434277711, -0.11411806015201628, 0.9386947091996757], [0.19308698296389343, 0.1371556111410247, 0.1150877507565368], [0.2155847075401507, 0.13239043949456453, 0.8863674171252434], [-0.15603720769138837, -0.16445540099944567, 0.14307386543344247], [-0.06692801959109304, -0.19354289239779682, 0.13219846788589124], [-0.2094669268004683, -0.08078459583179529, 0.8732242584328058], [-0.15384908865866387, -0.15659557277814112, 0.8812169592940987], [0.003624463258364875, 0.24445940249474574, 0.8673487529464282], [-0.08663128157086494, 0.21318954924803696, 0.8775090944054892], [-0.0648422110536924, -0.20618189328922026, 0.8642313116716798], [0.22434743818336744, -0.09445161422255868, 0.8698045356589531], [-0.003402544241890174, 0.24577347130270483, 0.11614827479089793], [-0.215025813679594, 0.0948420973574257, 0.1299776807642612]], "faces": [[0, 95, 2], [10, 91, 0], [0, 91, 24], [24, 95, 0], [21, 92, 1], [1, 93, 21], [30, 93, 1], [1, 92, 38], [2, 80, 3], [2, 95, 80], [3, 51, 4], [3, 80, 51], [4, 81, 5], [51, 81, 4], [5, 87, 6], [81, 87, 5], [6, 49, 7], [6, 87, 49], [7, 77, 8], [49, 77, 7], [8, 53, 9], [8, 77, 53], [9, 82, 10], [53, 82, 9], [82, 91, 10], [22, 78, 21], [21, 79, 22], [78, 92, 21], [21, 93, 79], [23, 54, 22], [22, 55, 23], [54, 78, 22], [22, 79, 55], [24, 58, 23], [23, 74, 24], [23, 58, 54], [55, 74, 23], [24, 91, 58], [74, 95, 24], [31, 56, 30], [56, 93, 30], [32, 99, 31], [31, 99, 56], [33, 50, 32], [50, 99, 32], [34, 75, 33], [33, 75, 50], [35, 89, 34], [34, 89, 75], [36, 52, 35], [52, 89, 35], [37, 86, 36], [36, 86, 52], [38, 57, 37], [57, 86, 37], [38, 92, 57], [49, 90, 77], [49, 87, 85], [85, 90, 49], [75, 94, 50], [50, 96, 84], [84, 99, 50], [94, 96, 50], [51, 98, 73], [73, 100, 51], [80, 98, 51], [51, 100, 81], [62, 63, 52], [52, 86, 62], [63, 64, 52], [64, 89, 52], [53, 77, 76], [76, 101, 53], [53, 101, 82], [58, 59, 54], [59, 60, 54], [60, 78, 54], [55, 88, 74], [79, 83, 55], [83, 88, 55], [56, 83, 79], [79, 93, 56], [56, 84, 83], [56, 99, 84], [57, 92, 78], [78, 97, 57], [57, 97, 86], [58, 101, 59], [58, 91, 82], [82, 101, 58], [59, 61, 60], [59, 76, 61], [59, 101, 76], [61, 62, 60], [62, 97, 60], [60, 97, 78], [61, 63, 62], [61, 66, 63], [61, 76, 66], [86, 97, 62], [63, 65, 64], [63, 66, 65], [65, 67, 64], [67, 75, 64], [75, 89, 64], [66, 85, 65], [65, 68, 67], [65, 85, 68], [76, 90, 66], [66, 90, 85], [68, 69, 67], [69, 94, 67], [67, 94, 75], [68, 70, 69], [68, 72, 70], [68, 85, 72], [70, 71, 69], [71, 96, 69], [69, 96, 94], [70, 73, 71], [72, 100, 70], [70, 100, 73], [73, 88, 71], [83, 84, 71], [71, 88, 83], [84, 96, 71], [72, 87, 81], [81, 100, 72], [85, 87, 72], [73, 98, 88], [80, 95, 74], [74, 98, 80], [88, 98, 74], [77, 90, 76], [2, 292, 0], [0, 290, 10], [0, 292, 290], [3, 292, 2], [4, 288, 3], [288, 292, 3], [5, 288, 4], [6, 291, 5], [5, 291, 288], [7, 291, 6], [8, 289, 7], [289, 291, 7], [9, 289, 8], [10, 290, 9], [9, 290, 289], [289, 290, 288], [288, 291, 289], [290, 292, 288], [30, 1, 319], [1, 38, 317], [1, 317, 319], [31, 30, 319], [32, 31, 315], [315, 31, 319], [33, 32, 315], [34, 33, 318], [33, 315, 318], [35, 34, 318], [36, 35, 316], [316, 35, 318], [37, 36, 316], [38, 37, 317], [37, 316, 317], [316, 315, 317], [315, 316, 318], [317, 315, 319]], "cells": {"triangle_2nd": [[0, 95, 2, 102, 103, 11], [10, 91, 0, 104, 105, 20], [0, 91, 24, 105, 106, 29], [24, 95, 0, 107, 102, 29], [21, 92, 1, 108, 109, 25], [1, 93, 21, 110, 111, 25], [30, 93, 1, 112, 110, 39], [1, 92, 38, 109, 113, 48], [2, 80, 3, 114, 115, 12], [2, 95, 80, 103, 116, 114], [3, 51, 4, 117, 118, 13], [3, 80, 51, 115, 119, 117], [4, 81, 5, 120, 121, 14], [51, 81, 4, 122, 120, 118], [5, 87, 6, 123, 124, 15], [81, 87, 5, 125, 123, 121], [6, 49, 7, 126, 127, 16], [6, 87, 49, 124, 128, 126], [7, 77, 8, 129, 130, 17], [49, 77, 7, 131, 129, 127], [8, 53, 9, 132, 133, 18], [8, 77, 53, 130, 134, 132], [9, 82, 10, 135, 136, 19], [53, 82, 9, 137, 135, 133], [82, 91, 10, 138, 104, 136], [22, 78, 21, 139, 140, 26], [21, 79, 22, 141, 142, 26], [78, 92, 21, 143, 108, 140], [21, 93, 79, 111, 144, 141], [23, 54, 22, 145, 146, 27], [22, 55, 23, 147, 148, 27], [54, 78, 22, 149, 139, 146], [22, 79, 55, 142, 150, 147], [24, 58, 23, 151, 152, 28], [23, 74, 24, 153, 154, 28], [23, 58, 54, 152, 155, 145], [55, 74, 23, 156, 153, 148], [24, 91, 58, 106, 157, 151], [74, 95, 24, 158, 107, 154], [31, 56, 30, 159, 160, 40], [56, 93, 30, 161, 112, 160], [32, 99, 31, 162, 163, 41], [31, 99, 56, 163, 164, 159], [33, 50, 32, 165, 166, 42], [50, 99, 32, 167, 162, 166], [34, 75, 33, 168, 169, 43], [33, 75, 50, 169, 170, 165], [35, 89, 34, 171, 172, 44], [34, 89, 75, 172, 173, 168], [36, 52, 35, 174, 175, 45], [52, 89, 35, 176, 171, 175], [37, 86, 36, 177, 178, 46], [36, 86, 52, 178, 179, 174], [38, 57, 37, 180, 181, 47], [57, 86, 37, 182, 177, 181], [38, 92, 57, 113, 183, 180], [49, 90, 77, 184, 185, 131], [49, 87, 85, 128, 186, 187], [85, 90, 49, 188, 184, 187], [75, 94, 50, 189, 190, 170], [50, 96, 84, 191, 192, 193], [84, 99, 50, 194, 167, 193], [94, 96, 50, 195, 191, 190], [51, 98, 73, 196, 197, 198], [73, 100, 51, 199, 200, 198], [80, 98, 51, 201, 196, 119], [51, 100, 81, 200, 202, 122], [62, 63, 52, 203, 204, 205], [52, 86, 62, 179, 206, 205], [63, 64, 52, 207, 208, 204], [64, 89, 52, 209, 176, 208], [53, 77, 76, 134, 210, 211], [76, 101, 53, 212, 213, 211], [53, 101, 82, 213, 214, 137], [58, 59, 54, 215, 216, 155], [59, 60, 54, 217, 218, 216], [60, 78, 54, 219, 149, 218], [55, 88, 74, 220, 221, 156], [79, 83, 55, 222, 223, 150], [83, 88, 55, 224, 220, 223], [56, 83, 79, 225, 222, 226], [79, 93, 56, 144, 161, 226], [56, 84, 83, 227, 228, 225], [56, 99, 84, 164, 194, 227], [57, 92, 78, 183, 143, 229], [78, 97, 57, 230, 231, 229], [57, 97, 86, 231, 232, 182], [58, 101, 59, 233, 234, 215], [58, 91, 82, 157, 138, 235], [82, 101, 58, 214, 233, 235], [59, 61, 60, 236, 237, 217], [59, 76, 61, 238, 239, 236], [59, 101, 76, 234, 212, 238], [61, 62, 60, 240, 241, 237], [62, 97, 60, 242, 243, 241], [60, 97, 78, 243, 230, 219], [61, 63, 62, 244, 203, 240], [61, 66, 63, 245, 246, 244], [61, 76, 66, 239, 247, 245], [86, 97, 62, 232, 242, 206], [63, 65, 64, 248, 249, 207], [63, 66, 65, 246, 250, 248], [65, 67, 64, 251, 252, 249], [67, 75, 64, 253, 254, 252], [75, 89, 64, 173, 209, 254], [66, 85, 65, 255, 256, 250], [65, 68, 67, 257, 258, 251], [65, 85, 68, 256, 259, 257], [76, 90, 66, 260, 261, 247], [66, 90, 85, 261, 188, 255], [68, 69, 67, 262, 263, 258], [69, 94, 67, 264, 265, 263], [67, 94, 75, 265, 189, 253], [68, 70, 69, 266, 267, 262], [68, 72, 70, 268, 269, 266], [68, 85, 72, 259, 270, 268], [70, 71, 69, 271, 272, 267], [71, 96, 69, 273, 274, 272], [69, 96, 94, 274, 195, 264], [70, 73, 71, 275, 276, 271], [72, 100, 70, 277, 278, 269], [70, 100, 73, 278, 199, 275], [73, 88, 71, 279, 280, 276], [83, 84, 71, 228, 281, 282], [71, 88, 83, 280, 224, 282], [84, 96, 71, 192, 273, 281], [72, 87, 81, 283, 125, 284], [81, 100, 72, 202, 277, 284], [85, 87, 72, 186, 283, 270], [73, 98, 88, 197, 285, 279], [80, 95, 74, 116, 158, 286], [74, 98, 80, 287, 201, 286], [88, 98, 74, 285, 287, 221], [77, 90, 76, 185, 260, 210], [2, 292, 0, 293, 294, 11], [0, 290, 10, 295, 296, 20], [0, 292, 290, 294, 297, 295], [3, 292, 2, 298, 293, 12], [4, 288, 3, 299, 300, 13], [288, 292, 3, 301, 298, 300], [5, 288, 4, 302, 299, 14], [6, 291, 5, 303, 304, 15], [5, 291, 288, 304, 305, 302], [7, 291, 6, 306, 303, 16], [8, 289, 7, 307, 308, 17], [289, 291, 7, 309, 306, 308], [9, 289, 8, 310, 307, 18], [10, 290, 9, 296, 311, 19], [9, 290, 289, 311, 312, 310], [289, 290, 288, 312, 313, 314], [288, 291, 289, 305, 309, 314], [290, 292, 288, 297, 301, 313], [30, 1, 319, 39, 320, 321], [1, 38, 317, 48, 322, 323], [1, 317, 319, 323, 324, 320], [31, 30, 319, 40, 321, 325], [32, 31, 315, 41, 326, 327], [315, 31, 319, 326, 325, 328], [33, 32, 315, 42, 327, 329], [34, 33, 318, 43, 330, 331], [33, 315, 318, 329, 332, 330], [35, 34, 318, 44, 331, 333], [36, 35, 316, 45, 334, 335], [316, 35, 318, 334, 333, 336], [37, 36, 316, 46, 335, 337], [38, 37, 317, 47, 338, 322], [37, 316, 317, 337, 339, 338], [316, 315, 317, 340, 341, 339], [315, 316, 318, 340, 336, 332], [317, 315, 319, 341, 328, 324]], "tetrahedron_2nd": [[86, 350, 97, 57, 358, 359, 232, 182, 231, 360], [5, 6, 87, 357, 15, 124, 123, 361, 362, 363], [348, 87, 6, 357, 364, 124, 365, 366, 363, 362], [355, 84, 50, 342, 367, 193, 368, 369, 370, 371], [355, 84, 342, 56, 367, 371, 369, 372, 373, 227], [75, 50, 94, 342, 170, 190, 189, 374, 375, 370], [315, 353, 347, 342, 376, 377, 378, 379, 380, 381], [60, 342, 61, 344, 382, 383, 237, 384, 385, 386], [61, 344, 342, 345, 385, 386, 383, 387, 388, 389], [315, 346, 342, 356, 390, 391, 379, 392, 393, 394], [88, 345, 344, 343, 395, 389, 396, 397, 398, 399], [348, 87, 357, 343, 364, 362, 366, 400, 401, 402], [49, 77, 90, 343, 131, 185, 184, 403, 404, 405], [50, 96, 94, 342, 191, 195, 190, 370, 375, 406], [92, 350, 353, 38, 407, 408, 409, 113, 410, 411], [317, 350, 353, 342, 412, 408, 413, 414, 381, 415], [88, 345, 343, 73, 395, 399, 397, 279, 416, 417], [80, 51, 98, 343, 119, 196, 201, 418, 419, 420], [82, 351, 101, 53, 421, 422, 214, 137, 213, 423], [352, 354, 343, 292, 424, 425, 426, 427, 428, 429], [70, 71, 73, 345, 271, 276, 275, 430, 417, 431], [51, 81, 100, 343, 122, 202, 200, 420, 432, 433], [71, 69, 342, 345, 272, 434, 435, 431, 388, 436], [71, 342, 344, 345, 435, 386, 437, 431, 389, 388], [97, 350, 86, 342, 359, 358, 232, 438, 439, 415], [63, 61, 342, 345, 244, 383, 440, 441, 388, 387], [346, 64, 342, 75, 442, 443, 391, 444, 374, 254], [315, 355, 356, 342, 445, 446, 392, 379, 393, 369], [346, 64, 75, 89, 442, 254, 444, 447, 173, 209], [69, 67, 94, 342, 263, 265, 264, 434, 375, 448], [355, 342, 347, 56, 369, 380, 449, 372, 450, 373], [61, 60, 62, 342, 237, 241, 240, 383, 451, 382], [315, 346, 356, 318, 390, 394, 392, 332, 452, 453], [57, 37, 350, 38, 181, 454, 360, 180, 411, 47], [94, 67, 75, 342, 265, 253, 189, 375, 374, 448], [96, 50, 84, 342, 191, 193, 192, 406, 371, 370], [93, 79, 56, 342, 144, 226, 161, 455, 373, 456], [345, 100, 343, 73, 457, 432, 399, 417, 416, 199], [345, 100, 73, 70, 457, 199, 417, 430, 275, 278], [357, 87, 81, 343, 362, 125, 458, 401, 433, 402], [96, 69, 94, 342, 274, 264, 195, 406, 375, 434], [72, 100, 81, 343, 277, 202, 284, 459, 433, 432], [63, 61, 62, 342, 244, 240, 203, 440, 451, 383], [345, 100, 70, 72, 457, 278, 430, 460, 269, 277], [346, 350, 316, 342, 461, 462, 463, 391, 464, 415], [348, 288, 343, 357, 465, 466, 400, 366, 401, 467], [69, 67, 342, 345, 263, 448, 434, 436, 388, 468], [343, 344, 59, 345, 398, 469, 470, 399, 471, 389], [93, 21, 79, 342, 111, 141, 144, 455, 456, 472], [97, 350, 78, 57, 359, 473, 230, 231, 229, 360], [92, 350, 38, 57, 407, 411, 113, 183, 180, 360], [62, 86, 52, 342, 206, 179, 205, 451, 474, 439], [95, 80, 74, 343, 116, 286, 158, 475, 476, 418], [88, 345, 73, 71, 395, 417, 279, 280, 276, 431], [80, 98, 74, 343, 201, 287, 286, 418, 476, 419], [292, 349, 354, 343, 477, 478, 429, 428, 425, 479], [356, 32, 33, 50, 480, 42, 481, 482, 165, 166], [86, 62, 97, 342, 206, 242, 232, 439, 438, 451], [348, 288, 357, 291, 465, 467, 366, 483, 484, 305], [317, 350, 342, 316, 412, 415, 414, 339, 464, 462], [351, 290, 352, 343, 485, 486, 487, 488, 426, 489], [88, 345, 71, 344, 395, 431, 280, 396, 437, 389], [315, 353, 342, 317, 376, 381, 379, 341, 414, 413], [351, 348, 289, 343, 490, 491, 492, 488, 493, 400], [69, 96, 71, 342, 274, 273, 272, 434, 435, 406], [352, 292, 343, 290, 427, 428, 426, 486, 489, 297], [351, 58, 343, 352, 494, 495, 488, 487, 426, 496], [71, 342, 83, 344, 435, 497, 282, 437, 498, 386], [292, 349, 343, 288, 477, 479, 428, 301, 466, 499], [349, 288, 357, 343, 499, 467, 500, 479, 401, 466], [51, 100, 73, 343, 200, 199, 198, 420, 416, 432], [60, 78, 342, 344, 219, 501, 382, 384, 386, 502], [353, 78, 21, 342, 503, 140, 504, 381, 472, 501], [345, 100, 72, 343, 457, 277, 460, 399, 459, 432], [351, 58, 352, 82, 494, 496, 487, 421, 505, 235], [351, 58, 82, 101, 494, 235, 421, 422, 214, 233], [76, 343, 59, 345, 506, 470, 238, 507, 471, 399], [352, 292, 290, 0, 427, 297, 486, 508, 295, 294], [51, 73, 98, 343, 198, 197, 196, 420, 419, 416], [64, 345, 342, 67, 509, 388, 443, 252, 448, 468], [96, 84, 71, 342, 192, 281, 273, 406, 435, 371], [76, 90, 77, 343, 260, 185, 210, 506, 405, 404], [84, 56, 83, 342, 227, 225, 228, 371, 497, 373], [74, 98, 88, 343, 287, 285, 221, 476, 397, 419], [95, 74, 24, 343, 158, 154, 107, 475, 510, 476], [73, 88, 98, 343, 279, 285, 197, 416, 419, 397], [61, 59, 344, 345, 236, 469, 385, 387, 389, 471], [75, 67, 64, 342, 253, 252, 254, 374, 443, 448], [81, 87, 72, 343, 125, 283, 284, 433, 459, 402], [74, 343, 88, 344, 476, 397, 221, 511, 396, 398], [352, 58, 343, 24, 496, 495, 426, 512, 510, 151], [23, 24, 74, 343, 28, 154, 153, 513, 476, 510], [83, 56, 79, 342, 225, 226, 222, 497, 456, 373], [79, 21, 22, 342, 141, 26, 142, 456, 514, 472], [64, 345, 67, 65, 509, 468, 252, 249, 251, 515], [83, 342, 79, 344, 497, 456, 222, 498, 516, 386], [64, 345, 65, 63, 509, 515, 249, 207, 248, 441], [71, 70, 69, 345, 271, 267, 272, 431, 436, 430], [59, 343, 58, 344, 470, 495, 215, 469, 517, 398], [74, 23, 343, 344, 153, 513, 476, 511, 398, 518], [23, 58, 24, 343, 152, 151, 28, 513, 510, 495], [79, 342, 22, 344, 456, 514, 142, 516, 519, 386], [60, 78, 97, 342, 219, 230, 243, 382, 438, 501], [356, 32, 50, 355, 480, 166, 482, 446, 368, 520], [101, 351, 76, 53, 422, 521, 212, 213, 211, 423], [21, 78, 22, 342, 140, 139, 26, 472, 514, 501], [61, 76, 59, 345, 239, 238, 236, 387, 471, 507], [52, 63, 62, 342, 204, 203, 205, 474, 451, 440], [90, 85, 49, 343, 188, 187, 184, 404, 403, 522], [23, 58, 343, 344, 152, 495, 513, 518, 398, 517], [60, 97, 62, 342, 243, 242, 241, 382, 451, 438], [22, 342, 78, 344, 514, 501, 139, 519, 502, 386], [84, 83, 71, 342, 228, 282, 281, 371, 435, 497], [52, 64, 63, 342, 208, 207, 204, 474, 440, 443], [64, 345, 63, 342, 509, 441, 207, 443, 440, 388], [90, 343, 76, 345, 404, 506, 260, 523, 507, 399], [101, 58, 59, 343, 233, 215, 234, 524, 470, 495], [49, 85, 87, 343, 187, 186, 128, 403, 402, 522], [315, 353, 317, 319, 376, 413, 341, 328, 324, 525], [101, 59, 76, 343, 234, 238, 212, 524, 506, 470], [59, 60, 61, 344, 217, 237, 236, 469, 385, 384], [315, 346, 318, 316, 390, 453, 332, 340, 336, 463], [87, 85, 72, 343, 186, 270, 283, 402, 459, 522], [60, 54, 78, 344, 218, 149, 219, 384, 502, 526], [88, 71, 83, 344, 280, 282, 224, 396, 498, 437], [69, 68, 67, 345, 262, 258, 263, 436, 468, 527], [315, 316, 317, 342, 340, 339, 341, 379, 414, 464], [90, 76, 66, 345, 260, 247, 261, 523, 528, 507], [288, 292, 290, 343, 301, 297, 313, 466, 489, 428], [90, 85, 343, 345, 188, 522, 404, 523, 399, 529], [348, 288, 291, 289, 465, 305, 483, 491, 309, 314], [55, 83, 79, 344, 223, 222, 150, 530, 516, 498], [72, 343, 85, 345, 459, 522, 270, 460, 529, 399], [61, 66, 76, 345, 245, 247, 239, 387, 507, 528], [59, 58, 54, 344, 215, 155, 216, 469, 526, 517], [22, 78, 54, 344, 139, 149, 146, 519, 526, 502], [63, 66, 61, 345, 246, 245, 244, 441, 387, 528], [55, 79, 22, 344, 150, 142, 147, 530, 519, 516], [290, 289, 288, 343, 312, 314, 313, 489, 466, 493], [74, 88, 55, 344, 221, 220, 156, 511, 530, 396], [88, 83, 55, 344, 224, 223, 220, 396, 530, 498], [54, 60, 59, 344, 218, 217, 216, 526, 469, 384], [68, 69, 70, 345, 262, 267, 266, 527, 430, 436], [23, 54, 58, 344, 145, 155, 152, 518, 517, 526], [74, 55, 23, 344, 156, 148, 153, 511, 518, 530], [316, 346, 318, 35, 463, 453, 336, 334, 333, 531], [70, 72, 68, 345, 269, 268, 266, 430, 527, 460], [347, 31, 315, 355, 532, 326, 378, 449, 445, 533], [65, 67, 68, 345, 251, 258, 257, 515, 527, 468], [356, 355, 50, 342, 446, 368, 482, 393, 370, 369], [289, 348, 7, 291, 491, 534, 308, 309, 306, 483], [347, 315, 31, 319, 378, 326, 532, 535, 325, 328], [292, 349, 288, 3, 477, 499, 301, 298, 300, 536], [3, 2, 354, 80, 12, 537, 538, 115, 539, 114], [95, 352, 24, 0, 540, 512, 107, 102, 29, 508], [63, 65, 66, 345, 248, 250, 246, 441, 528, 515], [4, 357, 349, 288, 541, 500, 542, 299, 499, 467], [90, 66, 85, 345, 261, 255, 188, 523, 529, 528], [315, 356, 33, 318, 392, 481, 329, 332, 330, 452], [353, 319, 1, 317, 525, 320, 543, 413, 323, 324], [354, 349, 3, 80, 478, 536, 538, 539, 115, 544], [288, 5, 357, 291, 302, 361, 467, 305, 484, 304], [348, 288, 289, 343, 465, 314, 491, 400, 493, 466], [23, 22, 54, 344, 27, 146, 145, 518, 526, 519], [316, 346, 36, 350, 463, 545, 335, 462, 546, 461], [23, 55, 22, 344, 148, 147, 27, 518, 519, 530], [354, 349, 80, 343, 478, 544, 539, 425, 418, 479], [292, 349, 3, 354, 477, 536, 298, 429, 538, 478], [72, 85, 68, 345, 270, 259, 268, 460, 527, 529], [317, 350, 316, 37, 412, 462, 339, 338, 337, 454], [315, 32, 356, 355, 327, 480, 392, 445, 446, 520], [351, 348, 8, 289, 490, 547, 548, 492, 307, 491], [352, 354, 292, 0, 424, 429, 427, 508, 294, 549], [93, 353, 1, 21, 550, 543, 110, 111, 25, 504], [35, 346, 36, 316, 531, 545, 45, 334, 335, 463], [349, 3, 4, 288, 536, 13, 542, 499, 299, 300], [290, 351, 9, 289, 485, 551, 311, 312, 310, 492], [357, 4, 5, 288, 541, 14, 361, 467, 302, 299], [350, 37, 317, 38, 454, 338, 412, 411, 322, 47], [34, 346, 318, 356, 552, 453, 331, 553, 452, 394], [315, 32, 33, 356, 327, 42, 329, 392, 481, 480], [7, 8, 348, 289, 17, 547, 534, 308, 491, 307], [1, 30, 353, 93, 39, 554, 543, 110, 550, 112], [350, 317, 353, 38, 412, 413, 408, 411, 410, 322], [65, 85, 66, 345, 256, 255, 250, 515, 528, 529], [30, 347, 31, 319, 555, 532, 40, 321, 325, 535], [68, 85, 65, 345, 259, 256, 257, 527, 515, 529], [348, 357, 6, 291, 366, 363, 365, 483, 303, 484], [30, 347, 319, 353, 555, 535, 321, 554, 525, 377], [10, 9, 290, 351, 19, 311, 296, 556, 485, 551], [290, 10, 351, 352, 296, 556, 485, 486, 487, 557], [348, 6, 7, 291, 365, 16, 534, 483, 306, 303], [290, 351, 289, 343, 485, 492, 312, 489, 493, 488], [354, 0, 2, 292, 549, 11, 537, 429, 293, 294], [3, 2, 292, 354, 12, 293, 298, 538, 429, 537], [318, 34, 356, 33, 331, 553, 452, 330, 481, 43], [30, 347, 353, 93, 555, 377, 554, 112, 550, 558], [32, 315, 31, 355, 327, 326, 41, 520, 533, 445], [1, 30, 319, 353, 39, 321, 320, 543, 525, 554], [36, 316, 350, 37, 335, 462, 546, 46, 454, 337], [351, 8, 9, 289, 548, 18, 551, 492, 310, 307], [317, 1, 353, 38, 323, 543, 413, 322, 410, 48], [10, 290, 0, 352, 296, 295, 20, 557, 508, 486], [346, 318, 35, 34, 453, 333, 531, 552, 44, 331], [5, 6, 357, 291, 15, 363, 361, 304, 484, 303], [315, 346, 316, 342, 390, 463, 340, 379, 464, 391], [347, 353, 93, 342, 377, 550, 558, 380, 455, 381], [315, 353, 319, 347, 376, 525, 328, 378, 535, 377], [93, 353, 21, 342, 550, 504, 111, 455, 472, 381], [95, 352, 0, 354, 540, 508, 102, 559, 549, 424], [95, 352, 354, 343, 540, 424, 559, 475, 425, 426], [346, 64, 89, 52, 442, 209, 447, 560, 176, 208], [346, 64, 52, 342, 442, 208, 560, 391, 474, 443], [346, 35, 52, 89, 531, 175, 560, 447, 176, 171], [34, 89, 346, 75, 172, 447, 552, 168, 444, 173], [89, 346, 35, 34, 447, 531, 171, 172, 44, 552], [56, 347, 93, 342, 450, 558, 161, 373, 455, 380], [355, 347, 342, 315, 449, 380, 369, 445, 379, 378], [31, 56, 355, 347, 159, 372, 533, 532, 449, 450], [86, 346, 350, 36, 561, 461, 358, 178, 546, 545], [30, 56, 31, 347, 160, 159, 40, 555, 532, 450], [30, 56, 347, 93, 160, 450, 555, 112, 558, 161], [77, 49, 348, 343, 131, 562, 563, 405, 400, 403], [49, 87, 348, 343, 128, 364, 562, 403, 400, 402], [77, 49, 7, 348, 131, 127, 129, 563, 534, 562], [49, 87, 6, 348, 128, 124, 126, 562, 365, 364], [49, 6, 7, 348, 126, 16, 127, 562, 534, 365], [80, 349, 51, 343, 544, 564, 119, 418, 420, 479], [51, 349, 81, 343, 564, 565, 122, 420, 433, 479], [349, 51, 3, 80, 564, 117, 536, 544, 115, 119], [4, 81, 51, 349, 120, 122, 118, 542, 564, 565], [51, 3, 4, 349, 117, 13, 118, 564, 542, 536], [78, 350, 97, 342, 473, 359, 230, 501, 438, 415], [86, 346, 36, 52, 561, 545, 178, 179, 174, 560], [86, 346, 52, 342, 561, 560, 179, 439, 474, 391], [37, 350, 86, 57, 454, 358, 177, 181, 182, 360], [36, 350, 86, 37, 546, 358, 178, 46, 177, 454], [76, 351, 101, 343, 521, 422, 212, 506, 524, 488], [76, 351, 77, 53, 521, 566, 210, 211, 134, 423], [53, 77, 8, 351, 134, 130, 132, 423, 548, 566], [351, 9, 53, 82, 551, 133, 423, 421, 137, 135], [53, 8, 9, 351, 132, 18, 133, 423, 551, 548], [352, 58, 24, 91, 496, 151, 512, 567, 106, 157], [352, 58, 91, 82, 496, 157, 567, 505, 138, 235], [91, 352, 0, 24, 567, 508, 105, 106, 29, 512], [352, 10, 82, 91, 557, 136, 505, 567, 138, 104], [10, 352, 0, 91, 557, 508, 20, 104, 105, 567], [78, 350, 92, 57, 473, 407, 143, 229, 183, 360], [353, 78, 342, 350, 503, 501, 381, 408, 415, 473], [92, 21, 1, 353, 108, 25, 109, 409, 543, 504], [353, 78, 350, 92, 503, 473, 408, 409, 407, 143], [353, 1, 92, 38, 543, 109, 409, 410, 113, 48], [95, 354, 80, 343, 559, 539, 116, 475, 418, 425], [95, 352, 343, 24, 540, 426, 475, 107, 510, 512], [95, 0, 2, 354, 102, 11, 103, 559, 537, 549], [354, 2, 95, 80, 537, 103, 559, 539, 116, 114], [81, 4, 5, 357, 120, 14, 121, 458, 361, 541], [357, 87, 5, 81, 362, 123, 361, 458, 121, 125], [351, 77, 348, 343, 566, 563, 490, 488, 400, 405], [351, 77, 8, 348, 566, 130, 548, 490, 547, 563], [7, 8, 77, 348, 17, 130, 129, 534, 563, 547], [4, 81, 349, 357, 120, 565, 542, 541, 500, 458], [351, 58, 101, 343, 494, 233, 422, 488, 524, 495], [349, 357, 81, 343, 500, 458, 565, 479, 433, 401], [10, 9, 351, 82, 19, 551, 556, 136, 421, 135], [351, 10, 82, 352, 556, 136, 421, 487, 505, 557], [355, 84, 56, 99, 367, 227, 372, 568, 164, 194], [355, 84, 99, 50, 367, 194, 568, 368, 167, 193], [31, 355, 56, 99, 533, 372, 159, 163, 164, 568], [355, 32, 50, 99, 520, 166, 368, 568, 167, 162], [32, 355, 31, 99, 520, 533, 41, 162, 163, 568], [86, 346, 342, 350, 561, 391, 439, 358, 415, 461], [346, 356, 75, 342, 394, 569, 444, 391, 374, 393], [33, 75, 356, 50, 169, 569, 481, 165, 482, 170], [34, 346, 356, 75, 552, 394, 553, 168, 569, 444], [356, 34, 75, 33, 553, 168, 569, 481, 169, 43], [342, 50, 356, 75, 370, 482, 393, 374, 569, 170], [35, 52, 36, 346, 175, 174, 45, 531, 545, 560], [77, 351, 76, 343, 566, 521, 210, 405, 506, 488], [353, 78, 92, 21, 503, 143, 409, 504, 108, 140]], "line_2nd": [[0, 2, 11], [2, 3, 12], [3, 4, 13], [4, 5, 14], [5, 6, 15], [6, 7, 16], [7, 8, 17], [8, 9, 18], [9, 10, 19], [10, 0, 20], [1, 21, 25], [21, 22, 26], [22, 23, 27], [23, 24, 28], [24, 0, 29], [1, 30, 39], [30, 31, 40], [31, 32, 41], [32, 33, 42], [33, 34, 43], [34, 35, 44], [35, 36, 45], [36, 37, 46], [37, 38, 47], [38, 1, 48]]}, "num_vertices": 570, "num_faces": 170, "num_cells": 475, "mesh_dimension": 3};
        window.meshData = fullMeshData;
        
        // Set cells data from template
        window.cells = fullMeshData.cells || {};
        window.faces = fullMeshData.faces || [];
        
        // Debug: Log cells data
        console.log('=== MESH DATA DEBUG ===');
        console.log('Vertices:', fullMeshData.vertices ? fullMeshData.vertices.length : 'undefined');
        console.log('Faces:', window.faces.length);
        console.log('Cells:', window.cells);
        console.log('Cells type:', typeof window.cells);
        console.log('Cells keys:', Object.keys(window.cells));
        
        // Debug all available cell types
        Object.keys(window.cells).forEach(cellType => {
            console.log(`${cellType}:`, window.cells[cellType].length, 'elements');
        });
        
        // Field data removed from mesh preview
        
        // Configure controls based on mesh dimension
        function configureControlsForDimension() {
            const surfaceOption = document.getElementById('surface-option');
            const surfaceViewBtn = document.getElementById('surface-view-btn');
            const volumeViewBtn = document.getElementById('volume-view-btn');
            const representationSelect = document.getElementById('representation-select');
            
            console.log('Mesh dimension:', meshDimension);
            console.log('Surface button found:', !!surfaceViewBtn);
            console.log('Volume button found:', !!volumeViewBtn);
            
            if (meshDimension === 1) {
                // 1D meshes: Only points and wireframe, no surface/volume buttons
                if (surfaceViewBtn) {
                    surfaceViewBtn.style.display = 'none';
                    console.log('Hidden surface button for 1D mesh');
                }
                if (volumeViewBtn) {
                    volumeViewBtn.style.display = 'none';
                    console.log('Hidden volume button for 1D mesh');
                }
                // Hide surface option in representation select
                if (surfaceOption) {
                    surfaceOption.style.display = 'none';
                    console.log('Hidden surface option for 1D mesh');
                }
            } else if (meshDimension === 2) {
                // 2D meshes: Points, wireframe, surface - no volume button
                if (surfaceViewBtn) {
                    surfaceViewBtn.style.display = 'none';
                    console.log('Hidden surface button for 2D mesh (use representation select)');
                }
                if (volumeViewBtn) {
                    volumeViewBtn.style.display = 'none';
                    console.log('Hidden volume button for 2D mesh');
                }
                // Show surface option in representation select
                if (surfaceOption) {
                    surfaceOption.style.display = 'block';
                    console.log('Shown surface option for 2D mesh');
                }
            } else if (meshDimension === 3) {
                // 3D meshes: Full functionality - show all buttons
                if (surfaceViewBtn) {
                    surfaceViewBtn.style.display = 'inline-block';
                    console.log('Shown surface button for 3D mesh');
                }
                if (volumeViewBtn) {
                    volumeViewBtn.style.display = 'inline-block';
                    console.log('Shown volume button for 3D mesh');
                }
                // Show surface option in representation select
                if (surfaceOption) {
                surfaceOption.style.display = 'block';
                    console.log('Shown surface option for 3D mesh');
                }
            }
            
            // No field configuration in mesh preview - use field_visualization.html for field visualization
            
            // Dimension-specific configuration handled above
            
        }
        
        // Make functions globally accessible immediately
        function fitToView() {
            console.log('*** FIT TO VIEW CLICKED ***');
            console.log('Renderer available:', !!window.renderer);
            console.log('Actor available:', !!window.actor);
            console.log('RenderWindow available:', !!window.renderWindow);
            
            if (window.renderer && window.actor && window.renderWindow) {
                window.renderer.resetCamera();
                window.renderWindow.render();
                console.log('Camera reset to fit mesh');
                        } else {
                console.log('VTK objects not available for fit to view');
                console.log('Renderer:', window.renderer);
                console.log('Actor:', window.actor);
                console.log('RenderWindow:', window.renderWindow);
            }
        }
        
        function showSurfaceView() {
            console.log('*** SURFACE VIEW TOGGLE CLICKED ***');
            console.log('Switching to surface view');
            
            // Check if we have surface elements available
            if (!window.cells || Object.keys(window.cells).length === 0) {
                console.log('No surface elements available');
                alert('No surface elements found in this mesh. Cells data: ' + JSON.stringify(window.cells));
                return;
            }
            
            // Update button states
            updateViewButtonStates();
            
            // Get current representation and recreate mesh with surface elements only
            const representationSelect = document.getElementById('representation-select');
            const currentRepresentation = representationSelect ? parseInt(representationSelect.value) : 2;
            createUnifiedMeshWithRepresentation(currentRepresentation, 'surface');
            
            console.log('Switched to surface view mode');
        }
        
        function showVolumeView() {
            console.log('*** VOLUME VIEW TOGGLE CLICKED ***');
            console.log('Cells data:', window.cells);
            
            if (!window.cells || Object.keys(window.cells).length === 0) {
                console.log('No volume elements available');
                alert('No volume elements found in this mesh. Cells data: ' + JSON.stringify(window.cells));
                return;
            }
            
            console.log('Switching to volume view');
            
            // Update button states
            updateViewButtonStates();
            
            // Get current representation and recreate mesh with volume elements
            const representationSelect = document.getElementById('representation-select');
            const currentRepresentation = representationSelect ? parseInt(representationSelect.value) : 2;
            createUnifiedMeshWithRepresentation(currentRepresentation, 'volume');
            
            // Log details about each cell type
            for (const [cellType, cellData] of Object.entries(window.cells)) {
                console.log(`${cellType}: ${cellData ? cellData.length : 0} elements`);
                if (cellData && cellData.length > 0) {
                    console.log(`Sample ${cellType}:`, cellData[0]);
                }
            }
            
            console.log('Switched to volume view mode');
        }
        
        function changeRepresentation(value) {
            console.log('*** REPRESENTATION CHANGED TO:', value, '***');
            console.log('Mesh dimension:', meshDimension);
            
            const repValue = parseInt(value);
            
            if (meshDimension === 1) {
                // For 1D meshes, handle points and wireframe representations only
                if (window.actor && window.renderWindow) {
                    // No field actors in mesh preview
                        
                    // No colorbar in mesh preview
                        
                        if (repValue === 0) {
                            // Points representation
                        console.log('Setting 1D mesh to points representation');
                        const actorProps = window.actor.getProperty();
                            actorProps.setRepresentation(0); // Points
                            actorProps.setPointSize(8); // Large points for visibility
                            actorProps.setLineWidth(1); // Reset line width
                        } else if (repValue === 1) {
                        // Wireframe representation - recreate mesh with proper line connectivity
                        console.log('Creating 1D wireframe mesh...');
                        create1DMesh();
                    }
                    
                    // Force render
                        window.renderWindow.render();
                }
            } else if (meshDimension === 2) {
                // For 2D meshes, handle points, wireframe, surface, and field representations
                if (window.actor && window.renderWindow) {
                    // Field representation removed from mesh preview
                    {
                        // No field actors in mesh preview
                        
                        // No colorbar in mesh preview
                        
                        // Points, wireframe, or surface representation
                        const actorProps = window.actor.getProperty();
                        
                        if (repValue === 0) {
                            // Points representation
                            actorProps.setRepresentation(0); // Points
                            actorProps.setPointSize(5);
                            actorProps.setLineWidth(1);
                            actorProps.setEdgeVisibility(false);
                        } else if (repValue === 1) {
                            // Wireframe representation
                            actorProps.setRepresentation(1); // Wireframe
                            // Don't set color - preserve default wireframe color
                        } else if (repValue === 2) {
                            // Surface representation
                            actorProps.setRepresentation(2); // Surface
                            actorProps.setOpacity(0.8);
                            actorProps.setPointSize(1);
                            actorProps.setLineWidth(1);
                            actorProps.setEdgeVisibility(true); // Show edges on surface
                            actorProps.setColor(0, 1, 0); // Green surface
                        }
                        
                        // Don't reset camera - keep current camera position
                        window.renderWindow.render();
                    }
                }
            } else if (meshDimension === 3) {
                // For 3D meshes, handle points, wireframe, surface, and field representations
                if (window.actor && window.renderWindow) {
                    // Field representation removed from mesh preview
                    {
                        // No field actors in mesh preview
                        
                        // No colorbar in mesh preview
                        
                        // Points, wireframe, or surface representation
                        const actorProps = window.actor.getProperty();
                        
                        if (repValue === 0) {
                            // Points representation
                            actorProps.setRepresentation(0); // Points
                            actorProps.setPointSize(3);
                            actorProps.setColor(0, 1, 0); // Green
                        } else if (repValue === 1) {
                            // Wireframe representation
                            actorProps.setRepresentation(1); // Wireframe
                            actorProps.setLineWidth(2);
                            actorProps.setEdgeVisibility(true);
                            // Don't set color - preserve default wireframe color
                        } else if (repValue === 2) {
                            // Surface representation
                            actorProps.setRepresentation(2); // Surface
                            actorProps.setOpacity(0.8);
                            actorProps.setColor(0, 1, 0); // Green
                            actorProps.setEdgeVisibility(true);
                            actorProps.setLineWidth(1);
                        }
                        
                        // Don't reset camera - keep current camera position
                        window.renderWindow.render();
                    }
                }
            } else {
                createMeshWithCurrentMode(repValue);
            }
            
            console.log('Representation changed to:', value);
        }
        
        // Field visualization removed from mesh preview - use field_visualization.html instead
        
        function changeBackground(color) {
            console.log('*** BACKGROUND CHANGED TO:', color, '***');
            if (window.renderer) {
                const r = parseInt(color.substr(1, 2), 16) / 255;
                const g = parseInt(color.substr(3, 2), 16) / 255;
                const b = parseInt(color.substr(5, 2), 16) / 255;
                window.renderer.setBackground(r, g, b);
                window.renderWindow.render();
                console.log('Background changed to:', color);
            } else {
                console.log('Renderer not available for background change');
            }
        }
        
        function createMeshWithCurrentMode(representation) {
            if (window.actor && window.renderWindow) {
                // Remove current actor
                window.renderer.removeActor(window.actor);
                
                // Create new mesh based on current mode and representation
                if (meshDimension === 1) {
                    // For 1D meshes, use current representation setting
                    const representationSelect = document.getElementById('representation-select');
                    const currentRepresentation = representationSelect ? parseInt(representationSelect.value) : 1;
                    createUnifiedMeshWithRepresentation(currentRepresentation, 'surface');
                } else if (meshDimension === 2) {
                    // For 2D meshes, use the 2D mesh creation function
                    create2DMesh();
                } else {
                    // Default to surface mode for mesh preview
                    createUnifiedMeshWithRepresentation(representation, 'surface');
                }
                
                window.renderWindow.render();
            } else {
                console.log('VTK objects not available for mesh creation');
            }
        }
        
        function updateViewButtonStates() {
            // Simplified button state management for mesh preview
            const surfaceButton = document.getElementById('surface-view-btn');
            const volumeButton = document.getElementById('volume-view-btn');
            
            if (surfaceButton && volumeButton) {
                // Default styling for mesh preview
                    surfaceButton.style.backgroundColor = '#001100';
                    surfaceButton.style.color = '#00ff00';
                surfaceButton.style.border = '1px solid #00ff00';
                    volumeButton.style.backgroundColor = '#001100';
                    volumeButton.style.color = '#00ff00';
                volumeButton.style.border = '1px solid #00ff00';
            }
        }
        
        // Make functions globally accessible
        window.fitToView = fitToView;
        window.showSurfaceView = showSurfaceView;
        window.showVolumeView = showVolumeView;
        window.changeRepresentation = changeRepresentation;
        // changeField removed from mesh preview
        window.changeBackground = changeBackground;
        
        // Test functions removed from mesh preview
        
        // Duplicate data assignments removed
        
        // Field data debugging removed
        
        // Mesh preview doesn't need field tracking
        
                const meshData = window.meshData.vertices || window.meshData;
                const faces = window.meshData.faces || window.faces;
                const cells = window.meshData.cells || window.cells;
        const settings = window.settings;
        
                console.log('Starting VTK.js visualization...');
                console.log('Mesh data:', meshData);
                console.log('Faces:', faces);
                console.log('Cells:', cells);
                console.log('Settings:', settings);
                
                // Debug: Check what volume elements we have
                if (cells) {
                    console.log('Available cell types:', Object.keys(cells));
                    for (const [cellType, cellData] of Object.entries(cells)) {
                        console.log(`${cellType}: ${cellData ? cellData.length : 0} elements`);
                            }
                } else {
                    console.log('No cells data available');
                }
        
        let vtk, fullScreenRenderer;
        window.renderer = null;
        window.renderWindow = null;
        window.actor = null;
        let mapper;
        let isVolumeMode = false;
        let originalMeshData = null;
        
        
        
        // Test if functions are accessible on page load
        console.log('Page loaded, testing function accessibility:');
        console.log('fitToView function:', typeof fitToView);
        console.log('window.fitToView function:', typeof window.fitToView);
        
        // Test if onclick handlers work at all
        console.log('Testing onclick handler accessibility...');
        document.addEventListener('DOMContentLoaded', function() {
            console.log('DOM loaded, testing button access...');
            
            // Configure controls based on mesh dimension
            configureControlsForDimension();
            
            const fitButton = document.getElementById('fit-view');
            const surfaceButton = document.getElementById('surface-view-btn');
            const volumeButton = document.getElementById('volume-view-btn');
            console.log('Fit button found:', !!fitButton);
            console.log('Surface button found:', !!surfaceButton);
            console.log('Volume button found:', !!volumeButton);
            
            if (fitButton) {
                console.log('Fit button onclick:', fitButton.onclick);
                console.log('Fit button has onclick attribute:', fitButton.hasAttribute('onclick'));
                
                // Add event listeners as backup
                fitButton.addEventListener('click', function(e) {
                    e.preventDefault();
                    console.log('Fit button clicked via addEventListener!');
                    fitToView();
                });
                
                surfaceButton.addEventListener('click', function(e) {
                    e.preventDefault();
                    console.log('Surface button clicked via addEventListener!');
                    showSurfaceView();
                });
                
                volumeButton.addEventListener('click', function(e) {
                    e.preventDefault();
                    console.log('Volume button clicked via addEventListener!');
                    showVolumeView();
                });
                
                console.log('Added event listeners to all buttons');
            }
        });
        
        // Wait for VTK.js to load
        window.addEventListener('load', function() {
            setTimeout(function() {
                try {
                    vtk = window.vtk;
                    console.log('VTK loaded:', !!vtk);
                        
                        if (vtk) {
                        console.log('VTK object keys:', Object.keys(vtk));
                                initVTK();
                } else {
                        console.error('VTK.js not available in window.vtk');
                    }
                } catch (error) {
                    console.error('VTK check error:', error);
                }
            }, 100); // Small delay to ensure script is loaded
        });
        
        function initVTK() {
            try {
                console.log('Initializing VTK.js...');
                
                // Create render window and attach to VTK container only
                window.vtkContainer = document.getElementById('vtk-container');
                const mainContainer = document.getElementById('container');
                window.renderWindow = vtk.Rendering.Core.vtkRenderWindow.newInstance();
                renderWindow = window.renderWindow;
                
                // Create OpenGL render window and attach to VTK container only
                const openGLRenderWindow = vtk.Rendering.OpenGL.vtkRenderWindow.newInstance();
                openGLRenderWindow.setContainer(window.vtkContainer);
                
                // Enable high-quality rendering (using supported methods)
                openGLRenderWindow.setUseOffScreen(false);
                openGLRenderWindow.setSize(window.vtkContainer.clientWidth, window.vtkContainer.clientHeight);
                
                console.log('VTK container attached to render window');
                console.log('VTK container size:', window.vtkContainer.clientWidth, 'x', window.vtkContainer.clientHeight);
                console.log('VTK container element:', window.vtkContainer);
                
                renderWindow.addView(openGLRenderWindow);
                
                // Create renderer
                window.renderer = vtk.Rendering.Core.vtkRenderer.newInstance();
                renderWindow.addRenderer(window.renderer);
                renderer = window.renderer;
                
                console.log('Renderer created and assigned to window:', !!window.renderer);
                
                // Create interactor with mouse controls - bind only to VTK container
                const interactor = vtk.Rendering.Core.vtkRenderWindowInteractor.newInstance();
                interactor.setView(openGLRenderWindow);
                interactor.initialize();
                interactor.bindEvents(window.vtkContainer);
                
                // Set up mouse controls
                interactor.setInteractorStyle(vtk.Interaction.Style.vtkInteractorStyleTrackballCamera.newInstance());
                
                console.log('Interactor created and configured for mouse controls');
                console.log('Mouse controls enabled - Left: Rotate, Middle: Pan, Right: Zoom, Wheel: Zoom');
                
                // Create mesh
                createMesh();
                
                // Update button states
                updateViewButtonStates();
                
                // Controls are now handled by onclick handlers in HTML
                
                // Update info
                updateInfo();
                
                // Hide loading
                document.getElementById('loading').style.display = 'none';
                
                // Render
                renderWindow.render();
                
                // Force a second render after a short delay to ensure visibility
                setTimeout(() => {
                    renderWindow.render();
                    console.log('Second render completed');
                    
                    // Field selection logic removed from mesh preview
                }, 100);
                
                console.log('VTK.js visualization initialized successfully');
                
                // Ensure 1D mesh buttons are hidden after initialization
                if (meshDimension === 1) {
                    setTimeout(() => {
                        const surfaceBtn = document.getElementById('surface-view-btn');
                        const volumeBtn = document.getElementById('volume-view-btn');
                        if (surfaceBtn) surfaceBtn.style.display = 'none';
                        if (volumeBtn) volumeBtn.style.display = 'none';
                        console.log('Ensured 1D mesh buttons are hidden');
                    }, 100);
                }
                
            } catch (error) {
                console.error('VTK initialization error:', error);
            }
        }
        
        function createMesh() {
            try {
                console.log('Creating mesh from data...');
                console.log('Mesh dimension:', meshDimension);
                
                if (!window.meshData || window.meshData.length === 0) {
                    console.error('No mesh data available');
                    return;
                }
                
                // Handle 1D meshes differently
                if (meshDimension === 1) {
                    // Use current representation setting for 1D meshes
                    const representationSelect = document.getElementById('representation-select');
                    const currentRepresentation = representationSelect ? parseInt(representationSelect.value) : 1;
                    createUnifiedMeshWithRepresentation(currentRepresentation, 'surface');
                    return;
                }
                
                // Handle 2D meshes differently
                if (meshDimension === 2) {
                    create2DMesh();
                    return;
                }
                
                // For 3D meshes, create initial mesh based on current mode
                const representationSelect = document.getElementById('representation-select');
                const currentRepresentation = representationSelect ? parseInt(representationSelect.value) : 2;
                
                // Create initial mesh - default to surface mode for mesh preview
                    createUnifiedMeshWithRepresentation(currentRepresentation, 'surface');
                
            } catch (error) {
                console.error('Mesh creation error:', error);
            }
        }
        
        function setupControls() {
            console.log('Setting up controls...');
            console.log('Actor available:', !!actor);
            console.log('Renderer available:', !!renderer);
            console.log('RenderWindow available:', !!renderWindow);
            
            // Representation selector (following VTK.js docs pattern)
            const representationSelector = document.getElementById('representation-select');
            console.log('Representation selector found:', !!representationSelector);
            if (representationSelector) {
                representationSelector.addEventListener('change', (e) => {
                    console.log('Representation changed to:', e.target.value);
                if (actor) {
                        const newRepValue = Number(e.target.value);
                        actor.getProperty().setRepresentation(newRepValue);
                    renderWindow.render();
                        console.log('Changed representation to:', e.target.options[e.target.selectedIndex].text);
                } else {
                        console.error('Actor not available for representation change');
                }
            });
            }
            
            // Background color selector
            const backgroundSelector = document.getElementById('background-select');
            if (backgroundSelector) {
                backgroundSelector.addEventListener('change', (e) => {
                    const color = e.target.value;
                    const r = parseInt(color.substr(1, 2), 16) / 255;
                    const g = parseInt(color.substr(3, 2), 16) / 255;
                    const b = parseInt(color.substr(5, 2), 16) / 255;
                    renderer.setBackground(r, g, b);
                    renderWindow.render();
                    console.log('Changed background to:', color);
                });
            }
        }
        
        
        function create1DMesh() {
            try {
                console.log('Creating 1D mesh...');
                
                // Remove existing actor if it exists
                if (window.actor) {
                    window.renderer.removeActor(window.actor);
                    window.actor = null;
                }
                
                if (!window.meshData || (window.meshData.vertices ? window.meshData.vertices.length === 0 : window.meshData.length === 0)) {
                    console.error('No mesh data available for 1D mesh');
                    return;
                }
                
                // Create polydata for 1D mesh
                const polydata = vtk.Common.DataModel.vtkPolyData.newInstance();
                const points = vtk.Common.Core.vtkPoints.newInstance();
                const cellArray = vtk.Common.Core.vtkCellArray.newInstance();
                
                // Set vertices
                let vertices;
                const meshData = window.meshData.vertices || window.meshData;
                
                // Debug: Check the actual data structure
                console.log('Mesh data structure:', meshData);
                console.log('Mesh data length:', meshData ? meshData.length : 'undefined');
                console.log('First element:', meshData ? meshData[0] : 'undefined');
                console.log('Is first element array:', Array.isArray(meshData ? meshData[0] : null));
                
                // Handle vertices correctly - they should be in [x,y,z] format
                if (Array.isArray(meshData) && meshData.length > 0 && Array.isArray(meshData[0])) {
                    // Vertices are in [x,y,z] format - flatten them
                    vertices = meshData.flat();
                    console.log('Vertices in [x,y,z] format, flattened to:', vertices.length / 3, 'vertices');
                } else if (Array.isArray(meshData) && meshData.length > 0) {
                    // Vertices are already flattened
                    vertices = meshData;
                    console.log('Vertices already flattened:', vertices.length / 3, 'vertices');
                } else {
                    console.error('Invalid mesh data structure');
                    return;
                }
                
                points.setData(new Float32Array(vertices), 3);
                polydata.setPoints(points);
                
                // Create line elements from cells (1D elements)
                const lineElements = [];
                console.log('Available cell types:', window.cells ? Object.keys(window.cells) : 'no cells');
                
                if (window.cells && window.cells.line_2nd && window.cells.line_2nd.length > 0) {
                    // Use cells.line_2nd for 1D connectivity (quadratic elements)
                    console.log('Using line_2nd cells:', window.cells.line_2nd.length);
                    for (let i = 0; i < window.cells.line_2nd.length; i++) {
                        const line = window.cells.line_2nd[i];
                        if (Array.isArray(line) && line.length >= 2) {
                        if (line.length === 2) {
                            // Linear line element
                            lineElements.push(line);
                        } else if (line.length === 3) {
                            // Quadratic line element - create two line segments for proper wireframe
                            lineElements.push([line[0], line[1]]); // First segment
                            lineElements.push([line[1], line[2]]); // Second segment
                        }
                        }
                    }
                } else if (window.cells && window.cells.line && window.cells.line.length > 0) {
                    // Use cells.line for 1D connectivity (linear elements)
                    console.log('Using line cells:', window.cells.line.length);
                    for (let i = 0; i < window.cells.line.length; i++) {
                        const line = window.cells.line[i];
                        if (Array.isArray(line) && line.length >= 2) {
                            lineElements.push(line);
                        }
                    }
                } else if (window.faces && window.faces.length > 0) {
                    // Fallback to faces if cells.line not available
                    for (let i = 0; i < window.faces.length; i++) {
                        const face = window.faces[i];
                        if (Array.isArray(face) && face.length >= 2) {
                            if (face.length === 2) {
                                // Line element
                                lineElements.push(face);
                            } else if (face.length > 2) {
                                // Split into line segments
                                for (let j = 0; j < face.length; j++) {
                                    const next = (j + 1) % face.length;
                                    lineElements.push([face[j], face[next]]);
                                }
                            }
                        }
                    }
                }
                
                // Add line elements to polydata
                console.log('Adding line elements to polydata:', lineElements.length);
                for (let i = 0; i < lineElements.length; i++) {
                    cellArray.insertNextCell(lineElements[i]);
                    console.log(`Line ${i}:`, lineElements[i]);
                }
                polydata.setLines(cellArray);
                
                console.log('Polydata created with', polydata.getNumberOfPoints(), 'points and', polydata.getNumberOfCells(), 'cells');
                
                // Create mapper and actor
                const mapper = vtk.Rendering.Core.vtkMapper.newInstance();
                mapper.setInputData(polydata);
                
                const actor = vtk.Rendering.Core.vtkActor.newInstance();
                actor.setMapper(mapper);
                
                // Set actor properties for 1D mesh
                const actorProps = actor.getProperty();
                actorProps.setRepresentation(1); // Wireframe
                actorProps.setLineWidth(15); // Very thick lines for visibility
                // Keep default green color for mesh preview
                
                console.log('Set 1D mesh wireframe with thick lines');
                console.log('Line elements created:', lineElements.length);
                console.log('Actor representation:', actorProps.getRepresentation());
                console.log('Actor line width:', actorProps.getLineWidth());
                console.log('Actor color:', actorProps.getColor());
                
                // Add actor to renderer
                window.renderer.addActor(actor);
                window.actor = actor;
                
                // Set up camera for 1D mesh
                const camera = window.renderer.getActiveCamera();
                const bounds = polydata.getBounds();
                const center = [
                    (bounds[0] + bounds[1]) / 2,
                    (bounds[2] + bounds[3]) / 2,
                    (bounds[4] + bounds[5]) / 2
                ];
                
                // Position camera above the mesh center
                camera.setPosition(center[0], center[1], center[2] + 2); // Position camera above the mesh center
                camera.setFocalPoint(center[0], center[1], center[2]); // Look at center of the mesh
                camera.setViewUp(0, 1, 0); // Y-axis up
                
                // Force render
                window.renderWindow.render();
                
                // Debug: Check if mesh is visible
                console.log('=== 1D MESH DEBUG ===');
                console.log('Actor visible:', actor.getVisibility());
                console.log('Actor bounds:', actor.getBounds());
                console.log('Polydata bounds:', polydata.getBounds());
                console.log('Camera position:', camera.getPosition());
                console.log('Camera focal point:', camera.getFocalPoint());
                console.log('Renderer bounds:', window.renderer.computeVisiblePropBounds());
                
                console.log('1D mesh camera positioned at:', camera.getPosition());
                console.log('1D mesh camera looking at:', camera.getFocalPoint());
                console.log(`1D mesh created with ${vertices.length / 3} vertices and ${lineElements.length} line elements`);
            } catch (error) {
                console.error('1D mesh creation error:', error);
            }
        }

        function create2DMesh() {
            try {
                console.log('Creating 2D mesh...');
                
                if (!window.meshData || (window.meshData.vertices ? window.meshData.vertices.length === 0 : window.meshData.length === 0)) {
                    console.error('No mesh data available for 2D mesh');
                    return;
                }
                
                // Create polydata for 2D mesh
                const polydata = vtk.Common.DataModel.vtkPolyData.newInstance();
                const points = vtk.Common.Core.vtkPoints.newInstance();
                const cellArray = vtk.Common.Core.vtkCellArray.newInstance();
                
                // Set vertices
                let vertices;
                const meshData = window.meshData.vertices || window.meshData;
                
                // Handle vertices correctly - they should be in [x,y,z] format
                if (Array.isArray(meshData) && meshData.length > 0 && Array.isArray(meshData[0])) {
                    // Vertices are in [x,y,z] format - flatten them
                    vertices = meshData.flat();
                    console.log('2D mesh: Vertices in [x,y,z] format, flattened to:', vertices.length / 3, 'vertices');
                } else if (Array.isArray(meshData) && meshData.length > 0) {
                    // Vertices are already flattened
                    vertices = meshData;
                    console.log('2D mesh: Vertices already flattened:', vertices.length / 3, 'vertices');
                } else {
                    console.error('Invalid mesh data structure for 2D mesh');
                    return;
                }
                
                points.setData(new Float32Array(vertices), 3);
                polydata.setPoints(points);
                
                // Add faces to polydata
                if (window.faces && window.faces.length > 0) {
                    for (let i = 0; i < window.faces.length; i++) {
                        const face = window.faces[i];
                        if (Array.isArray(face) && face.length >= 3) {
                            if (face.length === 3) {
                                cellArray.insertNextCell(face);
                            } else if (face.length === 4) {
                                // Split quad into two triangles
                                cellArray.insertNextCell([face[0], face[1], face[2]]);
                                cellArray.insertNextCell([face[0], face[2], face[3]]);
                            }
                        }
                    }
                }
                polydata.setPolys(cellArray);
                
                // Create mapper and actor
                const mapper = vtk.Rendering.Core.vtkMapper.newInstance();
                mapper.setInputData(polydata);
                
                const actor = vtk.Rendering.Core.vtkActor.newInstance();
                actor.setMapper(mapper);
                
                // Set actor properties for 2D mesh
                const actorProps = actor.getProperty();
                actorProps.setRepresentation(2); // Surface
                actorProps.setColor(0, 1, 0); // Green
                actorProps.setOpacity(0.8);
                actorProps.setEdgeVisibility(true); // Show edges
                actorProps.setLineWidth(2); // Edge line width
                
                // Add actor to renderer
                window.renderer.addActor(actor);
                window.actor = actor;
                
                // Set up camera for 2D mesh
                const camera = window.renderer.getActiveCamera();
                const bounds = polydata.getBounds();
                const center = [
                    (bounds[0] + bounds[1]) / 2,
                    (bounds[2] + bounds[3]) / 2,
                    (bounds[4] + bounds[5]) / 2
                ];
                
                // Calculate distance based on mesh size
                const size = Math.max(bounds[1] - bounds[0], bounds[3] - bounds[2], bounds[5] - bounds[4]);
                const distance = size * 1.5;
                
                camera.setPosition(center[0], center[1], center[2] + distance);
                camera.setFocalPoint(center[0], center[1], center[2]);
                camera.setViewUp(0, 1, 0);
                
                // Force render
                window.renderWindow.render();
                
                console.log(`2D mesh created with ${vertices.length / 3} vertices`);
            } catch (error) {
                console.error('2D mesh creation error:', error);
            }
        }

        
        function createUnifiedMeshWithRepresentation(representation, viewType) {
            console.log(`Creating mesh with representation ${representation} for ${viewType} view`);
            
            // Remove existing actor to prevent overlay
            if (window.actor) {
                window.renderer.removeActor(window.actor);
                window.actor = null;
            }
            
            // Create polydata with the same base vertices for both views
            const polydata = vtk.Common.DataModel.vtkPolyData.newInstance();
            const points = vtk.Common.Core.vtkPoints.newInstance();
            const cellArray = vtk.Common.Core.vtkCellArray.newInstance();
            
            // Set vertices - ALWAYS the same for both views
            let vertices;
            const meshData = window.meshData.vertices || window.meshData;
            
            // Handle vertices correctly - they should be in [x,y,z] format
            if (Array.isArray(meshData) && meshData.length > 0 && Array.isArray(meshData[0])) {
                // Vertices are in [x,y,z] format - flatten them
                vertices = meshData.flat();
                console.log('Unified mesh: Vertices in [x,y,z] format, flattened to:', vertices.length / 3, 'vertices');
            } else if (Array.isArray(meshData) && meshData.length > 0) {
                // Vertices are already flattened
                vertices = meshData;
                console.log('Unified mesh: Vertices already flattened:', vertices.length / 3, 'vertices');
            } else {
                console.error('Invalid mesh data structure for unified mesh');
                return;
            }
            
            points.setData(new Float32Array(vertices), 3);
            polydata.setPoints(points);
            
            let totalElements = 0;
            
            // For points representation, create point cloud from all vertices
            if (representation === 0) {
            const pointArray = vtk.Common.Core.vtkCellArray.newInstance();
            for (let i = 0; i < vertices.length / 3; i++) {
                pointArray.insertNextCell([i]);
            }
            polydata.setVerts(pointArray);
            totalElements = vertices.length / 3;
            } else {
                // Handle 1D meshes (lines)
                if (window.meshDimension === 1) {
                    
                    if (window.cells && Object.keys(window.cells).length > 0) {
                        // Process 1D elements
                        if (window.cells.line && window.cells.line.length > 0) {
                            for (let i = 0; i < window.cells.line.length; i++) {
                                const line = window.cells.line[i];
                                if (Array.isArray(line) && line.length === 2) {
                                    cellArray.insertNextCell(line);
                                    totalElements++;
                                }
                            }
                        }
                        
                        if (window.cells.line_2nd && window.cells.line_2nd.length > 0) {
                            for (let i = 0; i < window.cells.line_2nd.length; i++) {
                                const line_2nd = window.cells.line_2nd[i];
                                if (Array.isArray(line_2nd) && line_2nd.length === 3) {
                                    // For second-order lines, use corner nodes only
                                    cellArray.insertNextCell([line_2nd[0], line_2nd[1]]);
                                    totalElements++;
                                }
                            }
                        }
                    }
                    
                    // Fallback to faces if no cells data available
                    if (totalElements === 0 && window.faces && window.faces.length > 0) {
                        for (let i = 0; i < window.faces.length; i++) {
                            const face = window.faces[i];
                            if (Array.isArray(face) && face.length >= 2) {
                                if (face.length === 2) {
                                    cellArray.insertNextCell(face);
                                    totalElements++;
                                } else if (face.length > 2) {
                                    // Split into line segments
                                    for (let j = 0; j < face.length; j++) {
                                        const next = (j + 1) % face.length;
                                        cellArray.insertNextCell([face[j], face[next]]);
                                        totalElements++;
                                    }
                                }
                            }
                        }
                    }
                    
                    if (totalElements > 0) {
                        polydata.setLines(cellArray);
                    }
                } else if (viewType === 'surface') {
                    // Surface view: show only surface elements (triangles, quads)
                    console.log('Processing surface elements for surface view');
                    
                    if (window.cells && Object.keys(window.cells).length > 0) {
                        // Process only surface elements
                    if (window.cells.triangle && window.cells.triangle.length > 0) {
                        for (let i = 0; i < window.cells.triangle.length; i++) {
                            const triangle = window.cells.triangle[i];
                            if (Array.isArray(triangle) && triangle.length === 3) {
                                cellArray.insertNextCell(triangle);
                                    totalElements++;
                            }
                        }
                    }
                    
                    if (window.cells.quad && window.cells.quad.length > 0) {
                        for (let i = 0; i < window.cells.quad.length; i++) {
                            const quad = window.cells.quad[i];
                            if (Array.isArray(quad) && quad.length === 4) {
                                // Split quad into two triangles
                                cellArray.insertNextCell([quad[0], quad[1], quad[2]]);
                                cellArray.insertNextCell([quad[0], quad[2], quad[3]]);
                                    totalElements += 2;
                            }
                        }
                    }
                    
                    if (window.cells.triangle_2nd && window.cells.triangle_2nd.length > 0) {
                        for (let i = 0; i < window.cells.triangle_2nd.length; i++) {
                            const triangle_2nd = window.cells.triangle_2nd[i];
                            if (Array.isArray(triangle_2nd) && triangle_2nd.length === 6) {
                                    // For second-order triangles, subdivide into 4 first-order triangles for smooth surface
                                    // Corner nodes: 0, 1, 2
                                    // Mid-edge nodes: 3, 4, 5 (between 0-1, 1-2, 2-0)
                                    
                                    // 4 triangles covering the entire second-order triangle
                                    cellArray.insertNextCell([triangle_2nd[0], triangle_2nd[3], triangle_2nd[5]]);
                                    cellArray.insertNextCell([triangle_2nd[3], triangle_2nd[1], triangle_2nd[4]]);
                                    cellArray.insertNextCell([triangle_2nd[5], triangle_2nd[4], triangle_2nd[2]]);
                                cellArray.insertNextCell([triangle_2nd[3], triangle_2nd[4], triangle_2nd[5]]);
                                    totalElements += 4;
                                }
                            }
                        }
                    }
                    
                    // Only include faces data if no cells data was processed
                    if (totalElements === 0 && window.faces && window.faces.length > 0) {
                        console.log(`Falling back to ${window.faces.length} faces for surface view`);
                    for (let i = 0; i < window.faces.length; i++) {
                        const face = window.faces[i];
                        if (Array.isArray(face) && face.length >= 3) {
                            if (face.length === 3) {
                                cellArray.insertNextCell(face);
                                    totalElements++;
                            } else if (face.length === 4) {
                                // Split quad into two triangles
                                cellArray.insertNextCell([face[0], face[1], face[2]]);
                                cellArray.insertNextCell([face[0], face[2], face[3]]);
                                    totalElements += 2;
                                }
                            }
                        }
                    }
                } else if (viewType === 'volume') {
                    // Volume view: show ALL elements (volume + surface)
                    console.log('Processing ALL elements for volume view');
                    
                    if (window.cells && Object.keys(window.cells).length > 0) {
                        // Process ALL elements from GMSH
                        for (const [cellType, cellData] of Object.entries(window.cells)) {
                            console.log(`Processing cell type: ${cellType}, count: ${cellData.length}`);
                            if (cellData && cellData.length > 0) {
                                for (let i = 0; i < cellData.length; i++) {
                                    const cell = cellData[i];
                                    if (Array.isArray(cell)) {
                                        // Process all element types
                                        if (cellType === 'tetrahedron' && cell.length === 4) {
                                            console.log(`Processing tetrahedron element ${i}`);
                                            cellArray.insertNextCell(cell);
                                            totalElements++;
                                        } else if (cellType === 'tetrahedron_2nd' && cell.length === 10) {
                                            console.log(`Processing tetrahedron_2nd element ${i}`);
                                            // For volume view, subdivide second-order tetrahedrons into 8 first-order tetrahedrons
                                            // Corner nodes: 0, 1, 2, 3
                                            // Mid-edge nodes: 4, 5, 6, 7, 8, 9 (edges 0-1, 1-2, 2-0, 0-3, 1-3, 2-3)
                                            
                                            // 8 tetrahedrons covering the entire second-order tetrahedron
                                            cellArray.insertNextCell([cell[0], cell[4], cell[6], cell[7]]);
                                            cellArray.insertNextCell([cell[4], cell[1], cell[5], cell[8]]);
                                            cellArray.insertNextCell([cell[6], cell[5], cell[2], cell[9]]);
                                            cellArray.insertNextCell([cell[7], cell[8], cell[9], cell[3]]);
                                            cellArray.insertNextCell([cell[4], cell[6], cell[7], cell[8]]);
                                            cellArray.insertNextCell([cell[4], cell[5], cell[6], cell[8]]);
                                            cellArray.insertNextCell([cell[5], cell[6], cell[8], cell[9]]);
                                            cellArray.insertNextCell([cell[6], cell[7], cell[8], cell[9]]);
                                            totalElements += 8;
                                        } else if (cellType === 'hexahedron' && cell.length === 8) {
                                            cellArray.insertNextCell(cell);
                                            totalElements++;
                                        } else if (cellType === 'triangle' && cell.length === 3) {
                                            cellArray.insertNextCell(cell);
                                            totalElements++;
                                        } else if (cellType === 'triangle_2nd' && cell.length === 6) {
                                            console.log(`Processing triangle_2nd element ${i}`);
                                            // Convert 2nd order triangle (6 nodes) to 3 linear triangles
                                            const v0 = cell[0], v1 = cell[1], v2 = cell[2];
                                            const v3 = cell[3], v4 = cell[4], v5 = cell[5];
                                            
                                            // 3 linear triangles
                                            cellArray.insertNextCell([v0, v3, v4]);
                                            cellArray.insertNextCell([v1, v4, v5]);
                                            cellArray.insertNextCell([v2, v5, v3]);
                                            totalElements += 3;
                                        } else if (cellType === 'line_2nd' && cell.length === 3) {
                                            console.log(`Processing line_2nd element ${i}`);
                                            // Convert 2nd order line (3 nodes) to 2 linear segments
                                            const v0 = cell[0], v1 = cell[1], v2 = cell[2];
                                            
                                            // 2 linear segments
                                            cellArray.insertNextCell([v0, v1]);
                                            cellArray.insertNextCell([v1, v2]);
                                            totalElements += 2;
                                        } else if (cellType === 'quad' && cell.length === 4) {
                                            cellArray.insertNextCell(cell);
                                            totalElements++;
                                        } else {
                                            console.log(`UNHANDLED cell type: ${cellType}, length: ${cell.length}`);
                                        }
                                    }
                                }
                            }
                        }
                    }
                    
                    // Fallback to faces if no cells data available
                    if (totalElements === 0 && window.faces && window.faces.length > 0) {
                        console.log(`Falling back to ${window.faces.length} regular faces for volume view`);
                for (let i = 0; i < window.faces.length; i++) {
                    const face = window.faces[i];
                            if (Array.isArray(face) && face.length >= 3) {
                                if (face.length === 3) {
                                    cellArray.insertNextCell(face);
                                    totalElements++;
                                } else if (face.length === 4) {
                                    // Split quad into two triangles
                                    cellArray.insertNextCell([face[0], face[1], face[2]]);
                                    cellArray.insertNextCell([face[0], face[2], face[3]]);
                                    totalElements += 2;
                                }
                            }
                        }
                    }
                }
                
                if (totalElements > 0) {
                    polydata.setPolys(cellArray);
                }
            }
            
            // Create mapper and actor
            const mapper = vtk.Rendering.Core.vtkMapper.newInstance();
            mapper.setInputData(polydata);
            
            const actor = vtk.Rendering.Core.vtkActor.newInstance();
            actor.setMapper(mapper);
            
            // Set actor properties based on representation
            const actorProps = actor.getProperty();
            if (representation === 0) {
                actorProps.setRepresentation(0); // Points
                actorProps.setPointSize(3);
                actorProps.setColor(0, 1, 0); // Green
            } else if (representation === 1) {
                // Wireframe representation
                actorProps.setRepresentation(1); // Wireframe
                actorProps.setLineWidth(2);
                actorProps.setEdgeVisibility(true);
                actorProps.setColor(0, 1, 0); // Green
                
                // Wireframe shows different edges based on view type
            } else {
                // Surface representation
                actorProps.setRepresentation(2); // Surface
                actorProps.setOpacity(0.8);
                actorProps.setColor(0, 1, 0); // Green
                actorProps.setEdgeVisibility(true);
                actorProps.setLineWidth(1);
            }
            
            // Add actor to renderer
            window.renderer.addActor(actor);
            window.actor = actor;
            
            // Set up camera
            const camera = window.renderer.getActiveCamera();
            const bounds = polydata.getBounds();
            const center = [
                (bounds[0] + bounds[1]) / 2,
                (bounds[2] + bounds[3]) / 2,
                (bounds[4] + bounds[5]) / 2
            ];
            
            const size = Math.max(bounds[1] - bounds[0], bounds[3] - bounds[2], bounds[5] - bounds[4]);
            const distance = size * 2;
            
            camera.setPosition(center[0], center[1], center[2] + distance);
            camera.setFocalPoint(center[0], center[1], center[2]);
            camera.setViewUp(0, 1, 0);
            
            // Force render
            window.renderWindow.render();
            
            console.log(`${viewType} mesh created: ${totalElements} elements`);
            
            // Update mesh statistics
            updateInfo();
        }
        
        function updateInfo() {
            const meshData = window.meshData;
            const faces = window.faces;
            const cells = window.cells;
            
            
            document.getElementById('vertex-count').textContent = meshData ? meshData.length / 3 : 0;
            document.getElementById('face-count').textContent = faces ? faces.length : 0;
            
            // Set mesh type based on dimension
            if (window.meshDimension === 1) {
                document.getElementById('mesh-type').textContent = '1D Mesh';
            } else if (window.meshDimension === 2) {
                document.getElementById('mesh-type').textContent = '2D Mesh';
            } else {
            document.getElementById('mesh-type').textContent = '3D Mesh';
            }
            
        }
        
        // Field mapping functions removed from mesh preview
        
        // All field visualization and colorbar functionality removed from mesh preview
        
        
        window.addEventListener('resize', function() {
            if (renderWindow && renderWindow.getViews()[0]) {
                const vtkContainer = document.getElementById('vtk-container');
                const openGLRenderWindow = renderWindow.getViews()[0];
                openGLRenderWindow.setSize(window.vtkContainer.clientWidth, window.vtkContainer.clientHeight);
                renderWindow.render();
            }
        });
    </script>
</body>
</html>